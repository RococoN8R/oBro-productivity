/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => oBro
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
"use strict;";
var DEFAULT_SETTINGS = {
  searchTags: "",
  viewListItems: false,
  searchPath: "",
  viewHiddenFiles: false,
  taskHeaderSize: 5
};
var statusBar;
var oBro = class extends import_obsidian.Plugin {
  // observer: MutationObserver | null = null;
  // makeHeadersSticky() {
  //    console.log("oBro: makeHeadersSticky");
  //    // Get all headers in the document
  //    const headers = document.querySelectorAll("h1, h2, h3");
  //    console.log(headers);
  //    headers.forEach(header => {
  //       // Make header sticky
  //       header.style.position = "sticky";
  //       header.style.top = "0";
  //       header.style.zIndex = "1000";
  //       header.style.backgroundColor = "white"; // Change as per your theme
  //    });
  // }
  async onload() {
    await this.loadSettings();
    this.app.workspace.onLayoutReady(() => {
      if (this.app.plugins.plugins["dataview"]) {
        console.log(`oBro ${this.manifest.version}: DataView plugin is ready.`);
      } else {
        console.error(`oBro ${this.manifest.version}: DataView plugin not enabled.`);
      }
      statusBar = this.addStatusBarItem();
      statusBar.createEl("span", { text: "oBro's ready!" });
      statusBar.createEl("span", { text: "" });
      statusBar.createEl("span", { text: "" });
    });
    this.addSettingTab(new oBroSettingsTab(this.app, this));
    window.viewPagesRecent = async (dv, args) => {
      if (window.app.plugins.plugins.dataview) {
        ctx.getContext(this.settings, dv, args);
        if (ctx.searchPath == ".")
          ctx.searchPath = "";
        let p = await dv.pages(ctx.searchPath == "." ? "" : ctx.searchPath).sort((t) => -t.file.mtime.ts);
        await dv.table(
          [
            "File",
            "Tasks",
            "Last Modified",
            "Size",
            "Folder",
            ctx.viewHiddenFiles ? "Visible" : ""
          ],
          p.where((p2) => isFileVisible(p2.file.path, ctx.viewHiddenFiles)).map((p2) => [
            p2.file.link,
            p2.file.tasks.length,
            p2.file.mtime,
            p2.file.size,
            p2.file.folder,
            ctx.viewHiddenFiles ? isFileVisible(p2.file.path) : ""
          ])
        );
      } else {
        console.error("DataView plugin is not enabled");
      }
    };
    window.helpPages = async (dv, args) => {
      dv.header(5, "Page Management");
      dv.span("The following commands are available to manage pages:");
      dv.span("- **`viewPagesRecent(dv, args)`** - Lists pages sorted by last modified date");
      dv.span("Use the following arguments to filter the pages displayed");
      dv.span(
        "- **`searchPath`** - Filter tasks by path\n	Examples:\n		`{searchPath: '.'}` searches just this page\n		`{searchPath: '\"path/to/folder\"'}` searches a folder and subfolders\n	Omitting the argument searches all pages"
      );
      dv.span(
        "- **`viewHiddenFiles`** - Include hidden files in the search\n	Directories and files starting with `_` are hidden\n	Use the argument to include them in the search\n	Examples:\n		`{viewHiddenFiles: true}`"
      );
    };
    window.viewTaskStages = async (dv, args) => {
      await tsks.update(this.settings, dv, args);
      let md = await dv.markdownTable(
        ["Stage", "Qty"],
        [
          ["Overdue", tsks.overdue.length],
          ["This Week", tsks.thisWeek.length],
          ["Next Week", tsks.nextWeek.length],
          ["Started", tsks.started.length],
          ["Backlog", tsks.notPrioritized.length],
          ["Completed", tsks.completed.length]
        ]
      );
      await dv.span(md);
    };
    window.viewTaskProgression = async (dv, args) => {
      await tsks.update(this.settings, dv, args);
      let md = await dv.markdownTable(
        ["In Progress", "Backlog", "Completed", "Total"],
        [
          [
            tsks.overdue.length + tsks.thisWeek.length + tsks.nextWeek.length + tsks.started.length,
            tsks.notPrioritized.length,
            tsks.completed.length,
            tsks.overdue.length + tsks.thisWeek.length + tsks.nextWeek.length + tsks.started.length + tsks.notPrioritized.length + tsks.completed.length
          ]
        ]
      );
      await dv.span(md);
    };
    window.viewTasksPrioritized = async (dv, args) => {
      await tsks.update(this.settings, dv, args);
      await tsks.show(
        dv,
        "Overdue",
        tsks.overdue.sort((s) => s.due, "desc")
      );
      await tsks.show(
        dv,
        "This Week",
        tsks.thisWeek.sort((s) => s.due, "asc")
      );
      await tsks.show(
        dv,
        "Next Week",
        tsks.nextWeek.sort((s) => s.due, "asc")
      );
      await tsks.show(
        dv,
        "In Progress",
        tsks.started.sort((s) => s.start, "asc")
      );
      await tsks.show(
        dv,
        "Completed Recently",
        tsks.completed.where((w) => w.completion >= ctx.so4wa).sort((s) => s.completion, "asc")
      );
      await tsks.show(
        dv,
        "Cancelled",
        tsks.notPrioritized.where((w) => w.viewStatus == "-")
      );
    };
    window.viewTasksPlanning = async (dv, args) => {
      await tsks.update(this.settings, dv, args);
      await tsks.show(
        dv,
        "Prioritize",
        tsks.notPrioritized.where((t) => t.status == "!").sort((s) => s.due, "asc")
      );
      await tsks.show(
        dv,
        "Open Questions",
        tsks.notPrioritized.where((t) => t.status == "?").sort((s) => s.due, "asc")
      );
      await tsks.show(
        dv,
        "Schedule",
        tsks.notPrioritized.where((t) => t.status == ">").sort((s) => s.due, "asc")
      );
      await tsks.show(
        dv,
        "Review",
        tsks.notPrioritized.where((t) => t.status == "R").sort((s) => s.due, "asc")
      );
      await tsks.show(
        dv,
        "Backlog",
        tsks.notPrioritized.where((t) => t.status == " ").sort((s) => s.due, "asc")
      );
    };
    window.viewTasksIdeation = async (dv, args) => {
      await tsks.update(this.settings, dv, args);
      await tsks.show(
        dv,
        "Ideas",
        tsks.notPrioritized.where((t) => t.status == "i").sort((s) => s.due, "asc")
      );
      await tsks.show(
        dv,
        "Bookmarks",
        tsks.notPrioritized.where((t) => t.status == "b").sort((s) => s.due, "asc")
      );
      await tsks.show(
        dv,
        "Pros",
        tsks.notPrioritized.where((t) => t.status == "p").sort((s) => s.due, "asc")
      );
      await tsks.show(
        dv,
        "Cons",
        tsks.notPrioritized.where((t) => t.status == "c").sort((s) => s.due, "asc")
      );
    };
    window.helpTasks = async (dv, args) => {
      dv.header(tsks.headerSize, "Task Management");
      dv.span("###### The following commands are available to manage tasks");
      dv.span("- **`viewPagesRecent(dv, args)`** - Lists pages sorted by last modified date");
      dv.span("- **`viewTaskStages(dv, args)`** - Shows task stages and quantities");
      dv.span("- **`viewTaskProgression(dv, args)`** - Shows overall task progression");
      dv.span("- **`viewTasksPrioritized(dv, args)`** - Shows prioritized tasks by status");
      dv.span("- **`viewTasksPlanning(dv, args)`** - Shows tasks ready for planning");
      dv.span("- **`viewTasksIdeation(dv, args)`** - Shows tasks needing ideation");
      dv.span("Use the following arguments to filter the tasks");
      dv.span(
        "- **`searchPath`** - Filter tasks by path\n	Examples:\n		`{searchPath: '.'}` searches just this page\n		`{searchPath: '\"path/to/folder\"'}` searches a folder and subfolders\n	Omitting the argument searches all pages"
      );
      dv.span(
        "- **`viewHiddenFiles`** - Include hidden files in the search\n	Directories and files starting with `_` are hidden\n	Use the argument to include them in the search\n	Examples:\n		`{viewHiddenFiles: true}`"
      );
      dv.span("###### Task notations");
      dv.span("**Task Status**");
      dv.span("- [ ] to-do [ ]");
      dv.span("- [/] in process [/]");
      dv.span("- [x] completed [x]");
      dv.span("- [-] cancelled [-]");
      dv.span("**Planning & Organization**");
      dv.span("- [!] priority [!]");
      dv.span("- [?] question [?]");
      dv.span("- [>] schedule [>]");
      dv.span("- [R] review [R]");
      dv.span("**Ideation & Reference**");
      dv.span("- [i] idea [i]");
      dv.span("- [b] bookmark [b]");
      dv.span("- [p] pro [p]");
      dv.span("- [c] con [c]");
    };
    window.viewTags = async (dv, args) => {
      tags.update(this.settings, dv, args);
    };
    window.viewTagsAIs = async (dv, args) => {
      tags.update(this.settings, dv, args);
      tags.view(
        dv,
        "Action Items",
        tags.all.where((w) => w.tags.startsWith("#ai/"))
      );
    };
    window.viewTagsApps = async (dv, args) => {
      tags.update(this.settings, dv, args);
      tags.view(
        dv,
        "Applications",
        tags.all.where((w) => w.tags.startsWith("#ap/"))
      );
    };
    window.viewTagsDiscussions = async (dv, args) => {
      tags.update(this.settings, dv, args);
      tags.view(
        dv,
        "Discussions",
        tags.all.where((w) => w.tags.startsWith("#d/"))
      );
    };
    window.viewTagsProjects = async (dv, args) => {
      tags.update(this.settings, dv, args);
      tags.view(
        dv,
        "Projects",
        tags.all.where((w) => w.tags.startsWith("#p/"))
      );
    };
    window.helpTags = async (dv, args) => {
      dv.header(tsks.headerSize, "Tag Management");
      dv.span("The following commands are available to manage tags:");
      dv.span("- **`viewTags(dv, args)`** - Lists tags sorted in alphabetical order");
      dv.span("Use the following arguments to filter the tags");
      dv.span(
        "- **`searchTags`** - Filter tags by starting text\n	Examples:\n		`{searchTags: '#Proj1'}` - displays tags starting with #Proj1\n		`{searchTags: ''}` - displays all tags\n		`{searchTags: ['#Proj1', '#Proj2']}` - arrays may be used for a list of tags\n	Omitting the argument displays all tags"
      );
      dv.span(
        "- **`viewListItems`** - Include tags in list items/bullets	By default, only tags in tasks are displayed.\n	Tags in list items are not included in the search\n	Use the argument to include them in the search\n	Example:\n		`{viewListItems: true}`"
      );
      dv.span(
        "- **`searchPath`** - Filter tasks by path\n	Examples:\n		`{searchPath: '.'}` searches just this page\n		`{searchPath: '\"path/to/folder\"'}` searches a folder and subfolders\n	Omitting the argument searches all pages"
      );
      dv.span(
        "- **`viewHiddenFiles`** - Include hidden files in the search\n	Directories and files starting with `_` are hidden\n	Use the argument to include them in the search\n	Example:\n		`{viewHiddenFiles: true}`"
      );
    };
    this.registerMarkdownCodeBlockProcessor("dash", (src, el, ctx2) => {
      console.log("dash", src, "<-- source", el, ctx2);
      let cards = [
        {
          title: "Calendar",
          content: `
               [[Calendar Actions]] 
               [[Recent Updates]] 
               [[Priorities]] 
               [[Obsidian Notes]]`
        },
        {
          title: "Tasks",
          content: `
               [[Task Stages]] 
               [[Task Progression]] 
               [[Tasks Prioritized]] 
               [[Tasks Planning]] 
               [[Tasks Ideation]]
               [[Help Tasks]]`
        },
        {
          title: "Tags",
          content: `
               [[All Tags]] 
               [[Action Items]] 
               [[Applications]] 
               [[Discussions]] 
               [[Projects]]
               [[Help Tags]]`
        }
      ];
      const container = createEl("div", { cls: "obro-container" });
      cards.forEach((c) => {
        let t = "";
        c.content.split("\n").forEach((item) => {
          const l = item.trim().replace("[[", "").replace("]]", "");
          if (l) {
            t += `<a href="obsidian://open?file=${l.replace(/ /g, "%20")}.md">${l}</a><br>`;
          }
        });
        container.appendChild(dash.addCard(c.title, t));
      });
      el.appendChild(container);
    });
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
    console.error(`oBro ${this.manifest.version}: Settings are loaded!`, this.settings);
  }
  async saveSettings() {
    await this.saveData(this.settings);
    console.error(`oBro ${this.manifest.version}: Settings are saved!`, this.settings);
  }
};
var oBroSettingsTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    this.containerEl.empty();
    this.containerEl.createEl("h1", { text: "General Settings" });
    this.containerEl.createEl("b", { text: " " });
    this.containerEl.createEl("h2", { text: "Search Pages" });
    new import_obsidian.Setting(this.containerEl).setName("Search Path").setDesc("Enter a path relative to the vault or `.` for the current page only.").addText(
      (text) => text.setPlaceholder("Enter the path or leave blank for all.").setValue(this.plugin.settings.searchPath).onChange(async (value) => {
        this.plugin.settings.searchPath = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(this.containerEl).setName("View Hidden Pages").setDesc(
      "Include pages and subdirectories starting with `_`. These are usually hidden from view."
    ).addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.viewHiddenFiles).onChange(async (value) => {
        this.plugin.settings.viewHiddenFiles = value;
        await this.plugin.saveSettings();
      })
    );
    this.containerEl.createEl("b", { text: " " });
    this.containerEl.createEl("h2", { text: "Search Tags" });
    new import_obsidian.Setting(this.containerEl).setName("Search Tag").setDesc("Search for tasks starting with the tag. Leave blank for all tags.").addText(
      (text) => text.setPlaceholder("Enter the tag or leave blank for all.").setValue(this.plugin.settings.searchTags).onChange(async (value) => {
        this.plugin.settings.searchTags = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(this.containerEl).setName("View List").setDesc("Include bullets (list items) in the search. These are usually hidden from view.").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.viewListItems).onChange(async (value) => {
        this.plugin.settings.viewListItems = value;
        await this.plugin.saveSettings();
      })
    );
    this.containerEl.createEl("b", { text: " " });
    this.containerEl.createEl("h2", { text: "Task Formatting" });
    new import_obsidian.Setting(this.containerEl).setName("Header Size").setDesc("Enter a size from 1 - 6.").addText(
      (text) => text.setPlaceholder("5").setValue("" + this.plugin.settings.taskHeaderSize).onChange(async (value) => {
        let parsed = parseInt(value);
        if (isNaN(parsed))
          return;
        if (parsed < 1 || parsed > 6)
          return;
        this.plugin.settings.taskHeaderSize = parsed;
        await this.plugin.saveSettings();
        tsks.headerSize = parsed;
      })
    );
  }
};
function isFileVisible(f, viewHiddenFiles) {
  try {
    if (viewHiddenFiles)
      return true;
    const pathParts = f.split("/");
    let i = pathParts.length - 1;
    while (i >= 0) {
      if (pathParts[i].startsWith("_"))
        return false;
      --i;
    }
    return true;
  } catch (err) {
    console.error("Error: ", err.message);
    return false;
  }
}
var ctx = {
  today: {},
  sow: {},
  eow: {},
  eonw: {},
  so4wa: {},
  searchTags: null,
  viewListItems: null,
  searchPath: null,
  viewHiddenFiles: null,
  headerSize: {},
  // add param to override today
  updateDates(dv) {
    const { DateTime } = dv.luxon;
    this.today = dv.date("today");
    this.sow = this.today.plus({ days: -(this.today.weekday % 7) });
    this.eow = this.sow.plus({ days: 7, milliseconds: -1 });
    this.eonw = this.eow.plus({ days: 7 });
    this.so4wa = this.sow.plus({ days: -28 });
  },
  updateCriteria(settings, dv, args) {
    this.searchTags = settings.searchTags;
    this.viewListItems = settings.viewListItems;
    this.searchPath = settings.searchPath;
    this.viewHiddenFiles = settings.viewHiddenFiles;
    this.headerSize = settings.taskHeaderSize;
    if (args) {
      if (args.searchTags)
        this.searchTags = args.searchTags;
      if (args.viewListItems)
        this.viewListItems = args.viewListItems;
      if (args.searchPath)
        this.searchPath = args.searchPath;
      if (args.viewHiddenFiles)
        this.viewHiddenFiles = args.viewHiddenFiles;
    }
  },
  getContext(settings, dv, args) {
    this.updateDates(dv);
    this.updateCriteria(settings, dv, args);
  }
};
var tsks = {
  getAllTs: 0,
  sortTs: 0,
  all: [],
  overdue: [],
  thisWeek: [],
  nextWeek: [],
  started: [],
  notPrioritized: [],
  completed: [],
  headerSize: 5,
  async getAll(dv, args) {
    this.all = [];
    this.getAllTs = null;
    try {
      if (ctx.searchPath == "." || ctx.searchPath == '"."')
        this.all = await dv.current().file.tasks;
      else
        this.all = await dv.pages(ctx.searchPath).where((p) => isFileVisible(p.file.path, ctx.viewHiddenFiles)).file.tasks;
      this.getAllTs = Date.now();
    } catch (err) {
      console.error("oBro: tsks.getAll fail: ", err.message, ctx.searchPath);
    }
    return;
  },
  async sort(dv) {
    this.overdue = [];
    this.thisWeek = [];
    this.nextWeek = [];
    this.started = [];
    this.notPrioritized = [];
    this.completed = [];
    this.sortTs = null;
    try {
      for (let t of this.all) {
        if (t.completed) {
          if (ctx.so4wa <= t.completion)
            this.completed.push(t);
        } else if (!t.due) {
          if (t.start && t.start <= ctx.today)
            this.started.push(t);
          else {
            this.notPrioritized.push(t);
          }
        } else if (t.due && t.due < ctx.today)
          this.overdue.push(t);
        else if (ctx.sow <= t.due && t.due <= ctx.eow)
          this.thisWeek.push(t);
        else if (ctx.eow < t.due && t.due <= ctx.eonw)
          this.nextWeek.push(t);
        else if (t.start && t.start <= ctx.today)
          this.started.push(t);
      }
      this.overdue = dv.array(this.overdue);
      this.thisWeek = dv.array(this.thisWeek);
      this.nextWeek = dv.array(this.nextWeek);
      this.started = dv.array(this.started);
      this.notPrioritized = dv.array(this.notPrioritized);
      this.completed = dv.array(this.completed);
      this.sortTs = Date.now();
    } catch (err) {
      console.error("oBro: tsks.sort fail: ", err.message);
    }
    statusBar.children[0].setText(
      `Overdue: ${this.overdue.length}  This Week: ${this.thisWeek.length}`
    );
    return;
  },
  async update(settings, dv, args) {
    tsks.headerSize = settings.taskHeaderSize;
    ctx.getContext(settings, dv, args);
    await this.getAll(dv, args);
    await this.sort(dv);
  },
  async show(dv, title, tasks) {
    if (!tasks || !tasks.length)
      return;
    await dv.header(this.headerSize, title + " (" + tasks.length + ")");
    await dv.taskList(tasks, false);
  }
};
var tags = {
  all: [],
  unique: [],
  tagTs: 0,
  headerSize: 5,
  async getAll(dv, args) {
    this.all = [];
    this.tagTs = null;
    try {
      if (ctx.searchPath == '"."' || ctx.searchPath == ".")
        this.all = await dv.current().file.lists.where((t) => t.tags.length > 0);
      else
        this.all = await dv.pages(ctx.searchPath).where((p) => isFileVisible(p.file.path, ctx.viewHiddenFiles)).file.lists.where((t) => t.tags.length > 0);
      this.tagTs = Date.now();
    } catch (err) {
      console.error("oBro: tags.getAll fail: ", err.message);
    }
  },
  async update(settings, dv, args) {
    ctx.getContext(settings, dv, args);
    await this.getAll(dv, args);
    await tags.view(dv, ctx.searchTags);
  },
  async view(dv, search) {
    let uniqueTags = Array.from(new Set(this.all.tags)).sort();
    let filteredTags = [];
    if (!search || search == "")
      filteredTags = uniqueTags;
    else {
      let filter = Array.isArray(search) ? search : [search];
      filteredTags = uniqueTags.filter((t) => filter.includes(t));
    }
    for (let t of filteredTags) {
      await this.viewTag(
        dv,
        t,
        this.all.where(
          (w) => w.tags.includes(t) && (w.task || ctx.viewListItems) && w.status != "x" && w.status != "-"
        )
      );
    }
  },
  async viewTag(dv, title, tag) {
    if (!tag || !tag.length)
      return;
    await dv.header(this.headerSize, title + " (" + tag.length + ")");
    await dv.taskList(tag, false);
  }
};
var dash = {
  addCard(title, content) {
    const card = createEl("div", { cls: "obro-card" });
    card.appendChild(createEl("div", { text: title, cls: "obro-card-title" }));
    card.appendChild(createEl("div", { text: "" }));
    card.innerHTML += content;
    return card;
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiXCJ1c2Ugc3RyaWN0O1wiO1xyXG5cclxuaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSBcImRvbWFpblwiO1xyXG5pbXBvcnQge1xyXG4gICBBcHAsXHJcbiAgIEVkaXRvcixcclxuICAgTWFya2Rvd25WaWV3LFxyXG4gICBNb2RhbCxcclxuICAgTm90aWNlLFxyXG4gICBQbHVnaW4sXHJcbiAgIFBsdWdpblNldHRpbmdUYWIsXHJcbiAgIFNldHRpbmcsXHJcbn0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IGdldEFQSSwgRGF0YXZpZXdBcGkgfSBmcm9tIFwib2JzaWRpYW4tZGF0YXZpZXdcIjtcclxuXHJcbmludGVyZmFjZSBvQnJvU2V0dGluZ3Mge1xyXG4gICBzZWFyY2hUYWdzOiBzdHJpbmc7XHJcbiAgIHZpZXdMaXN0SXRlbXM6IGJvb2xlYW47XHJcbiAgIHNlYXJjaFBhdGg6IHN0cmluZztcclxuICAgdmlld0hpZGRlbkZpbGVzOiBib29sZWFuO1xyXG4gICB0YXNrSGVhZGVyU2l6ZTogbnVtYmVyO1xyXG59XHJcblxyXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBvQnJvU2V0dGluZ3MgPSB7XHJcbiAgIHNlYXJjaFRhZ3M6IFwiXCIsXHJcbiAgIHZpZXdMaXN0SXRlbXM6IGZhbHNlLFxyXG4gICBzZWFyY2hQYXRoOiBcIlwiLFxyXG4gICB2aWV3SGlkZGVuRmlsZXM6IGZhbHNlLFxyXG4gICB0YXNrSGVhZGVyU2l6ZTogNSxcclxufTtcclxuXHJcbmxldCBzdGF0dXNCYXI6IEhUTUxFbGVtZW50O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mgb0JybyBleHRlbmRzIFBsdWdpbiB7XHJcbiAgIHNldHRpbmdzOiBvQnJvU2V0dGluZ3M7XHJcblxyXG4gICAvLyBvYnNlcnZlcjogTXV0YXRpb25PYnNlcnZlciB8IG51bGwgPSBudWxsO1xyXG4gICAvLyBtYWtlSGVhZGVyc1N0aWNreSgpIHtcclxuICAgLy8gICAgY29uc29sZS5sb2coXCJvQnJvOiBtYWtlSGVhZGVyc1N0aWNreVwiKTtcclxuICAgLy8gICAgLy8gR2V0IGFsbCBoZWFkZXJzIGluIHRoZSBkb2N1bWVudFxyXG4gICAvLyAgICBjb25zdCBoZWFkZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImgxLCBoMiwgaDNcIik7XHJcblxyXG4gICAvLyAgICBjb25zb2xlLmxvZyhoZWFkZXJzKTtcclxuXHJcbiAgIC8vICAgIGhlYWRlcnMuZm9yRWFjaChoZWFkZXIgPT4ge1xyXG4gICAvLyAgICAgICAvLyBNYWtlIGhlYWRlciBzdGlja3lcclxuICAgLy8gICAgICAgaGVhZGVyLnN0eWxlLnBvc2l0aW9uID0gXCJzdGlja3lcIjtcclxuICAgLy8gICAgICAgaGVhZGVyLnN0eWxlLnRvcCA9IFwiMFwiO1xyXG4gICAvLyAgICAgICBoZWFkZXIuc3R5bGUuekluZGV4ID0gXCIxMDAwXCI7XHJcbiAgIC8vICAgICAgIGhlYWRlci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCI7IC8vIENoYW5nZSBhcyBwZXIgeW91ciB0aGVtZVxyXG4gICAvLyAgICB9KTtcclxuICAgLy8gfVxyXG5cclxuICAgYXN5bmMgb25sb2FkKCkge1xyXG4gICAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG4gICAgICB0aGlzLmFwcC53b3Jrc3BhY2Uub25MYXlvdXRSZWFkeSgoKSA9PiB7XHJcbiAgICAgICAgIC8vIGNoZWNrIGlmIGR2IHBsdWdpbiBpcyBlbmFibGVkXHJcbiAgICAgICAgIGlmICh0aGlzLmFwcC5wbHVnaW5zLnBsdWdpbnNbXCJkYXRhdmlld1wiXSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgb0JybyAke3RoaXMubWFuaWZlc3QudmVyc2lvbn06IERhdGFWaWV3IHBsdWdpbiBpcyByZWFkeS5gKTtcclxuICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgb0JybyAke3RoaXMubWFuaWZlc3QudmVyc2lvbn06IERhdGFWaWV3IHBsdWdpbiBub3QgZW5hYmxlZC5gKTtcclxuICAgICAgICAgfVxyXG5cclxuICAgICAgICAgc3RhdHVzQmFyID0gdGhpcy5hZGRTdGF0dXNCYXJJdGVtKCk7XHJcbiAgICAgICAgIHN0YXR1c0Jhci5jcmVhdGVFbChcInNwYW5cIiwgeyB0ZXh0OiBcIm9Ccm8ncyByZWFkeSFcIiB9KTtcclxuICAgICAgICAgc3RhdHVzQmFyLmNyZWF0ZUVsKFwic3BhblwiLCB7IHRleHQ6IFwiXCIgfSk7XHJcbiAgICAgICAgIHN0YXR1c0Jhci5jcmVhdGVFbChcInNwYW5cIiwgeyB0ZXh0OiBcIlwiIH0pO1xyXG5cclxuICAgICAgICAgLy8gLy8gcmVnaXN0ZXIgZGF0YXZpZXcgY29tbWFuZFxyXG4gICAgICAgICAvLyB0aGlzLmFkZENvbW1hbmQoe1xyXG4gICAgICAgICAvLyAgICAgaWQ6ICd2aWV3LXBhZ2VzLXJlY2VudCcsXHJcbiAgICAgICAgIC8vICAgICBuYW1lOiAnVmlldyBQYWdlcyBSZWNlbnQnLFxyXG4gICAgICAgICAvLyAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgLy8gICAgICAgICB0aGlzLmFwcC5jb21tYW5kcy5leGVjdXRlQ29tbWFuZChcImRhdGF2aWV3OnJ1bi1xdWVyeVwiLCB7IHF1ZXJ5OiBcInZpZXdQYWdlc1JlY2VudFwiIH0pO1xyXG4gICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAvLyB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBXYWl0IGZvciBPYnNpZGlhbiB0byBiZSBmdWxseSBsb2FkZWRcclxuICAgICAgLy9hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmFwcC53b3Jrc3BhY2UpO1xyXG4gICAgICAvLyB0aGlzLnJlZ2lzdGVyRXZlbnQoXHJcbiAgICAgIC8vICAgIHRoaXMuYXBwLndvcmtzcGFjZS5vbihcInF1aWNrLXByZXZpZXdcIiwgKCkgPT4ge1xyXG4gICAgICAvLyAgICAgICBjb25zb2xlLmxvZygnb0JybzogXCJlZGl0b3ItcHJldmlld1wiIGV2ZW50IGhhcyBmaXJlZCEnKTtcclxuICAgICAgLy8gICAgICAgdGhpcy5tYWtlSGVhZGVyc1N0aWNreSgpO1xyXG4gICAgICAvLyAgICB9KVxyXG4gICAgICAvLyApO1xyXG5cclxuICAgICAgLy8gdGhpcy5vYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcclxuICAgICAgLy8gICAgdGhpcy5tYWtlSGVhZGVyc1N0aWNreSgpO1xyXG4gICAgICAvLyB9KTtcclxuXHJcbiAgICAgIC8vIGNvbnN0IGRvY3VtZW50Qm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xyXG4gICAgICAvLyBpZiAoZG9jdW1lbnRCb2R5KSB7XHJcbiAgICAgIC8vICAgIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudEJvZHksIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pO1xyXG4gICAgICAvLyB9XHJcblxyXG4gICAgICB0aGlzLmFkZFNldHRpbmdUYWIobmV3IG9Ccm9TZXR0aW5nc1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cclxuICAgICAgd2luZG93LnZpZXdQYWdlc1JlY2VudCA9IGFzeW5jIChkdiwgYXJncykgPT4ge1xyXG4gICAgICAgICAvLyBUT0RPOiB1cGRhdGUgdG8gdXNlIGdsb2JhbCBkdiBpbnN0ZWFkIG9mIHBhc3NlZC4gTmVlZCB0byB1bmRlcnN0YW5kIHdoeSBjcmVhdGVFbCBlcnJvcnMgYXBwZWFyXHJcblxyXG4gICAgICAgICBpZiAod2luZG93LmFwcC5wbHVnaW5zLnBsdWdpbnMuZGF0YXZpZXcpIHtcclxuICAgICAgICAgICAgLy8gbGV0IGR2ID0gd2luZG93LmFwcC5wbHVnaW5zLnBsdWdpbnMuZGF0YXZpZXcuYXBpO1xyXG4gICAgICAgICAgICAvLyBsZXQgZHYyID0gZ2V0QVBJKHdpbmRvdy5hcHApO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImR2OiBcIiwgZHYsIGR2Mik7XHJcblxyXG4gICAgICAgICAgICBjdHguZ2V0Q29udGV4dCh0aGlzLnNldHRpbmdzLCBkdiwgYXJncyk7XHJcbiAgICAgICAgICAgIC8vIHN1cHByZXNzIHRoaXMgcGFnZSBvbmx5LCBpdCBpcyBub3QgYSB2YWxpZCByZXBvcnRcclxuICAgICAgICAgICAgaWYgKGN0eC5zZWFyY2hQYXRoID09IFwiLlwiKSBjdHguc2VhcmNoUGF0aCA9IFwiXCI7XHJcbiAgICAgICAgICAgIGxldCBwID0gYXdhaXQgZHZcclxuICAgICAgICAgICAgICAgLnBhZ2VzKGN0eC5zZWFyY2hQYXRoID09IFwiLlwiID8gXCJcIiA6IGN0eC5zZWFyY2hQYXRoKVxyXG4gICAgICAgICAgICAgICAuc29ydCh0ID0+IC10LmZpbGUubXRpbWUudHMpO1xyXG4gICAgICAgICAgICBhd2FpdCBkdi50YWJsZShcclxuICAgICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgICBcIkZpbGVcIixcclxuICAgICAgICAgICAgICAgICAgXCJUYXNrc1wiLFxyXG4gICAgICAgICAgICAgICAgICBcIkxhc3QgTW9kaWZpZWRcIixcclxuICAgICAgICAgICAgICAgICAgXCJTaXplXCIsXHJcbiAgICAgICAgICAgICAgICAgIFwiRm9sZGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgIGN0eC52aWV3SGlkZGVuRmlsZXMgPyBcIlZpc2libGVcIiA6IFwiXCIsXHJcbiAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgIHBcclxuICAgICAgICAgICAgICAgICAgLndoZXJlKHAgPT4gaXNGaWxlVmlzaWJsZShwLmZpbGUucGF0aCwgY3R4LnZpZXdIaWRkZW5GaWxlcykpXHJcbiAgICAgICAgICAgICAgICAgIC5tYXAocCA9PiBbXHJcbiAgICAgICAgICAgICAgICAgICAgIHAuZmlsZS5saW5rLFxyXG4gICAgICAgICAgICAgICAgICAgICBwLmZpbGUudGFza3MubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICBwLmZpbGUubXRpbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgIHAuZmlsZS5zaXplLFxyXG4gICAgICAgICAgICAgICAgICAgICBwLmZpbGUuZm9sZGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICBjdHgudmlld0hpZGRlbkZpbGVzID8gaXNGaWxlVmlzaWJsZShwLmZpbGUucGF0aCkgOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICBdKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRGF0YVZpZXcgcGx1Z2luIGlzIG5vdCBlbmFibGVkXCIpO1xyXG4gICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB3aW5kb3cuaGVscFBhZ2VzID0gYXN5bmMgKGR2LCBhcmdzKSA9PiB7XHJcbiAgICAgICAgIGR2LmhlYWRlcig1LCBcIlBhZ2UgTWFuYWdlbWVudFwiKTtcclxuICAgICAgICAgZHYuc3BhbihcIlRoZSBmb2xsb3dpbmcgY29tbWFuZHMgYXJlIGF2YWlsYWJsZSB0byBtYW5hZ2UgcGFnZXM6XCIpO1xyXG4gICAgICAgICBkdi5zcGFuKFwiLSAqKmB2aWV3UGFnZXNSZWNlbnQoZHYsIGFyZ3MpYCoqIC0gTGlzdHMgcGFnZXMgc29ydGVkIGJ5IGxhc3QgbW9kaWZpZWQgZGF0ZVwiKTtcclxuXHJcbiAgICAgICAgIGR2LnNwYW4oXCJVc2UgdGhlIGZvbGxvd2luZyBhcmd1bWVudHMgdG8gZmlsdGVyIHRoZSBwYWdlcyBkaXNwbGF5ZWRcIik7XHJcbiAgICAgICAgIGR2LnNwYW4oXHJcbiAgICAgICAgICAgIFwiLSAqKmBzZWFyY2hQYXRoYCoqIC0gRmlsdGVyIHRhc2tzIGJ5IHBhdGhcXG5cIiArXHJcbiAgICAgICAgICAgICAgIFwiXFx0RXhhbXBsZXM6XFxuXCIgK1xyXG4gICAgICAgICAgICAgICBcIlxcdFxcdGB7c2VhcmNoUGF0aDogJy4nfWAgc2VhcmNoZXMganVzdCB0aGlzIHBhZ2VcXG5cIiArXHJcbiAgICAgICAgICAgICAgIFwiXFx0XFx0YHtzZWFyY2hQYXRoOiAnXFxcInBhdGgvdG8vZm9sZGVyXFxcIid9YCBzZWFyY2hlcyBhIGZvbGRlciBhbmQgc3ViZm9sZGVyc1xcblwiICtcclxuICAgICAgICAgICAgICAgXCJcXHRPbWl0dGluZyB0aGUgYXJndW1lbnQgc2VhcmNoZXMgYWxsIHBhZ2VzXCJcclxuICAgICAgICAgKTtcclxuICAgICAgICAgZHYuc3BhbihcclxuICAgICAgICAgICAgXCItICoqYHZpZXdIaWRkZW5GaWxlc2AqKiAtIEluY2x1ZGUgaGlkZGVuIGZpbGVzIGluIHRoZSBzZWFyY2hcXG5cIlxyXG4gICAgICAgICAgICArIFwiXFx0RGlyZWN0b3JpZXMgYW5kIGZpbGVzIHN0YXJ0aW5nIHdpdGggYF9gIGFyZSBoaWRkZW5cXG5cIlxyXG4gICAgICAgICAgICArIFwiXFx0VXNlIHRoZSBhcmd1bWVudCB0byBpbmNsdWRlIHRoZW0gaW4gdGhlIHNlYXJjaFxcblwiXHJcbiAgICAgICAgICAgICsgXCJcXHRFeGFtcGxlczpcXG5cIlxyXG4gICAgICAgICAgICArIFwiXFx0XFx0YHt2aWV3SGlkZGVuRmlsZXM6IHRydWV9YFwiXHJcbiAgICAgICAgICk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB3aW5kb3cudmlld1Rhc2tTdGFnZXMgPSBhc3luYyAoZHYsIGFyZ3MpID0+IHtcclxuICAgICAgICAgYXdhaXQgdHNrcy51cGRhdGUodGhpcy5zZXR0aW5ncywgZHYsIGFyZ3MpO1xyXG4gICAgICAgICBsZXQgbWQgPSBhd2FpdCBkdi5tYXJrZG93blRhYmxlKFxyXG4gICAgICAgICAgICBbXCJTdGFnZVwiLCBcIlF0eVwiXSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICBbXCJPdmVyZHVlXCIsIHRza3Mub3ZlcmR1ZS5sZW5ndGhdLFxyXG4gICAgICAgICAgICAgICBbXCJUaGlzIFdlZWtcIiwgdHNrcy50aGlzV2Vlay5sZW5ndGhdLFxyXG4gICAgICAgICAgICAgICBbXCJOZXh0IFdlZWtcIiwgdHNrcy5uZXh0V2Vlay5sZW5ndGhdLFxyXG4gICAgICAgICAgICAgICBbXCJTdGFydGVkXCIsIHRza3Muc3RhcnRlZC5sZW5ndGhdLFxyXG4gICAgICAgICAgICAgICBbXCJCYWNrbG9nXCIsIHRza3Mubm90UHJpb3JpdGl6ZWQubGVuZ3RoXSxcclxuICAgICAgICAgICAgICAgW1wiQ29tcGxldGVkXCIsIHRza3MuY29tcGxldGVkLmxlbmd0aF0sXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICAgKTtcclxuICAgICAgICAgYXdhaXQgZHYuc3BhbihtZCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB3aW5kb3cudmlld1Rhc2tQcm9ncmVzc2lvbiA9IGFzeW5jIChkdiwgYXJncykgPT4ge1xyXG4gICAgICAgICBhd2FpdCB0c2tzLnVwZGF0ZSh0aGlzLnNldHRpbmdzLCBkdiwgYXJncyk7XHJcbiAgICAgICAgIGxldCBtZCA9IGF3YWl0IGR2Lm1hcmtkb3duVGFibGUoXHJcbiAgICAgICAgICAgIFtcIkluIFByb2dyZXNzXCIsIFwiQmFja2xvZ1wiLCBcIkNvbXBsZXRlZFwiLCBcIlRvdGFsXCJdLFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgICAgdHNrcy5vdmVyZHVlLmxlbmd0aCArXHJcbiAgICAgICAgICAgICAgICAgICAgIHRza3MudGhpc1dlZWsubGVuZ3RoICtcclxuICAgICAgICAgICAgICAgICAgICAgdHNrcy5uZXh0V2Vlay5sZW5ndGggK1xyXG4gICAgICAgICAgICAgICAgICAgICB0c2tzLnN0YXJ0ZWQubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICB0c2tzLm5vdFByaW9yaXRpemVkLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgdHNrcy5jb21wbGV0ZWQubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICB0c2tzLm92ZXJkdWUubGVuZ3RoICtcclxuICAgICAgICAgICAgICAgICAgICAgdHNrcy50aGlzV2Vlay5sZW5ndGggK1xyXG4gICAgICAgICAgICAgICAgICAgICB0c2tzLm5leHRXZWVrLmxlbmd0aCArXHJcbiAgICAgICAgICAgICAgICAgICAgIHRza3Muc3RhcnRlZC5sZW5ndGggK1xyXG4gICAgICAgICAgICAgICAgICAgICB0c2tzLm5vdFByaW9yaXRpemVkLmxlbmd0aCArXHJcbiAgICAgICAgICAgICAgICAgICAgIHRza3MuY29tcGxldGVkLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICApO1xyXG4gICAgICAgICBhd2FpdCBkdi5zcGFuKG1kKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHdpbmRvdy52aWV3VGFza3NQcmlvcml0aXplZCA9IGFzeW5jIChkdiwgYXJncykgPT4ge1xyXG4gICAgICAgICBhd2FpdCB0c2tzLnVwZGF0ZSh0aGlzLnNldHRpbmdzLCBkdiwgYXJncyk7XHJcbiAgICAgICAgIGF3YWl0IHRza3Muc2hvdyhcclxuICAgICAgICAgICAgZHYsXHJcbiAgICAgICAgICAgIFwiT3ZlcmR1ZVwiLFxyXG4gICAgICAgICAgICB0c2tzLm92ZXJkdWUuc29ydChzID0+IHMuZHVlLCBcImRlc2NcIilcclxuICAgICAgICAgKTtcclxuICAgICAgICAgYXdhaXQgdHNrcy5zaG93KFxyXG4gICAgICAgICAgICBkdixcclxuICAgICAgICAgICAgXCJUaGlzIFdlZWtcIixcclxuICAgICAgICAgICAgdHNrcy50aGlzV2Vlay5zb3J0KHMgPT4gcy5kdWUsIFwiYXNjXCIpXHJcbiAgICAgICAgICk7XHJcbiAgICAgICAgIGF3YWl0IHRza3Muc2hvdyhcclxuICAgICAgICAgICAgZHYsXHJcbiAgICAgICAgICAgIFwiTmV4dCBXZWVrXCIsXHJcbiAgICAgICAgICAgIHRza3MubmV4dFdlZWsuc29ydChzID0+IHMuZHVlLCBcImFzY1wiKVxyXG4gICAgICAgICApO1xyXG4gICAgICAgICBhd2FpdCB0c2tzLnNob3coXHJcbiAgICAgICAgICAgIGR2LFxyXG4gICAgICAgICAgICBcIkluIFByb2dyZXNzXCIsXHJcbiAgICAgICAgICAgIHRza3Muc3RhcnRlZC5zb3J0KHMgPT4gcy5zdGFydCwgXCJhc2NcIilcclxuICAgICAgICAgKTtcclxuICAgICAgICAgYXdhaXQgdHNrcy5zaG93KFxyXG4gICAgICAgICAgICBkdixcclxuICAgICAgICAgICAgXCJDb21wbGV0ZWQgUmVjZW50bHlcIixcclxuICAgICAgICAgICAgdHNrcy5jb21wbGV0ZWQud2hlcmUodyA9PiB3LmNvbXBsZXRpb24gPj0gY3R4LnNvNHdhKS5zb3J0KHMgPT4gcy5jb21wbGV0aW9uLCBcImFzY1wiKVxyXG4gICAgICAgICApO1xyXG4gICAgICAgICBhd2FpdCB0c2tzLnNob3coXHJcbiAgICAgICAgICAgIGR2LFxyXG4gICAgICAgICAgICBcIkNhbmNlbGxlZFwiLFxyXG4gICAgICAgICAgICB0c2tzLm5vdFByaW9yaXRpemVkLndoZXJlKHcgPT4gdy52aWV3U3RhdHVzID09IFwiLVwiKVxyXG4gICAgICAgICApO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgd2luZG93LnZpZXdUYXNrc1BsYW5uaW5nID0gYXN5bmMgKGR2LCBhcmdzKSA9PiB7XHJcbiAgICAgICAgIGF3YWl0IHRza3MudXBkYXRlKHRoaXMuc2V0dGluZ3MsIGR2LCBhcmdzKTtcclxuICAgICAgICAgYXdhaXQgdHNrcy5zaG93KFxyXG4gICAgICAgICAgICBkdixcclxuICAgICAgICAgICAgXCJQcmlvcml0aXplXCIsXHJcbiAgICAgICAgICAgIHRza3Mubm90UHJpb3JpdGl6ZWQud2hlcmUodCA9PiB0LnN0YXR1cyA9PSBcIiFcIikuc29ydChzID0+IHMuZHVlLCBcImFzY1wiKVxyXG4gICAgICAgICApO1xyXG4gICAgICAgICBhd2FpdCB0c2tzLnNob3coXHJcbiAgICAgICAgICAgIGR2LFxyXG4gICAgICAgICAgICBcIk9wZW4gUXVlc3Rpb25zXCIsXHJcbiAgICAgICAgICAgIHRza3Mubm90UHJpb3JpdGl6ZWQud2hlcmUodCA9PiB0LnN0YXR1cyA9PSBcIj9cIikuc29ydChzID0+IHMuZHVlLCBcImFzY1wiKVxyXG4gICAgICAgICApO1xyXG4gICAgICAgICBhd2FpdCB0c2tzLnNob3coXHJcbiAgICAgICAgICAgIGR2LFxyXG4gICAgICAgICAgICBcIlNjaGVkdWxlXCIsXHJcbiAgICAgICAgICAgIHRza3Mubm90UHJpb3JpdGl6ZWQud2hlcmUodCA9PiB0LnN0YXR1cyA9PSBcIj5cIikuc29ydChzID0+IHMuZHVlLCBcImFzY1wiKVxyXG4gICAgICAgICApO1xyXG4gICAgICAgICBhd2FpdCB0c2tzLnNob3coXHJcbiAgICAgICAgICAgIGR2LFxyXG4gICAgICAgICAgICBcIlJldmlld1wiLFxyXG4gICAgICAgICAgICB0c2tzLm5vdFByaW9yaXRpemVkLndoZXJlKHQgPT4gdC5zdGF0dXMgPT0gXCJSXCIpLnNvcnQocyA9PiBzLmR1ZSwgXCJhc2NcIilcclxuICAgICAgICAgKTtcclxuICAgICAgICAgYXdhaXQgdHNrcy5zaG93KFxyXG4gICAgICAgICAgICBkdixcclxuICAgICAgICAgICAgXCJCYWNrbG9nXCIsXHJcbiAgICAgICAgICAgIHRza3Mubm90UHJpb3JpdGl6ZWQud2hlcmUodCA9PiB0LnN0YXR1cyA9PSBcIiBcIikuc29ydChzID0+IHMuZHVlLCBcImFzY1wiKVxyXG4gICAgICAgICApO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgd2luZG93LnZpZXdUYXNrc0lkZWF0aW9uID0gYXN5bmMgKGR2LCBhcmdzKSA9PiB7XHJcbiAgICAgICAgIGF3YWl0IHRza3MudXBkYXRlKHRoaXMuc2V0dGluZ3MsIGR2LCBhcmdzKTtcclxuICAgICAgICAgYXdhaXQgdHNrcy5zaG93KFxyXG4gICAgICAgICAgICBkdixcclxuICAgICAgICAgICAgXCJJZGVhc1wiLFxyXG4gICAgICAgICAgICB0c2tzLm5vdFByaW9yaXRpemVkLndoZXJlKHQgPT4gdC5zdGF0dXMgPT0gXCJpXCIpLnNvcnQocyA9PiBzLmR1ZSwgXCJhc2NcIilcclxuICAgICAgICAgKTtcclxuICAgICAgICAgYXdhaXQgdHNrcy5zaG93KFxyXG4gICAgICAgICAgICBkdixcclxuICAgICAgICAgICAgXCJCb29rbWFya3NcIixcclxuICAgICAgICAgICAgdHNrcy5ub3RQcmlvcml0aXplZC53aGVyZSh0ID0+IHQuc3RhdHVzID09IFwiYlwiKS5zb3J0KHMgPT4gcy5kdWUsIFwiYXNjXCIpXHJcbiAgICAgICAgICk7XHJcbiAgICAgICAgIGF3YWl0IHRza3Muc2hvdyhcclxuICAgICAgICAgICAgZHYsXHJcbiAgICAgICAgICAgIFwiUHJvc1wiLFxyXG4gICAgICAgICAgICB0c2tzLm5vdFByaW9yaXRpemVkLndoZXJlKHQgPT4gdC5zdGF0dXMgPT0gXCJwXCIpLnNvcnQocyA9PiBzLmR1ZSwgXCJhc2NcIilcclxuICAgICAgICAgKTtcclxuICAgICAgICAgYXdhaXQgdHNrcy5zaG93KFxyXG4gICAgICAgICAgICBkdixcclxuICAgICAgICAgICAgXCJDb25zXCIsXHJcbiAgICAgICAgICAgIHRza3Mubm90UHJpb3JpdGl6ZWQud2hlcmUodCA9PiB0LnN0YXR1cyA9PSBcImNcIikuc29ydChzID0+IHMuZHVlLCBcImFzY1wiKVxyXG4gICAgICAgICApO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gaW5mbyBhYm91dCB1c2luZyB0aGUgdGFzayB0b29sc1xyXG4gICAgICB3aW5kb3cuaGVscFRhc2tzID0gYXN5bmMgKGR2LCBhcmdzKSA9PiB7XHJcbiAgICAgICAgIGR2LmhlYWRlcih0c2tzLmhlYWRlclNpemUsIFwiVGFzayBNYW5hZ2VtZW50XCIpO1xyXG4gICAgICAgICBkdi5zcGFuKFwiIyMjIyMjIFRoZSBmb2xsb3dpbmcgY29tbWFuZHMgYXJlIGF2YWlsYWJsZSB0byBtYW5hZ2UgdGFza3NcIik7XHJcbiAgICAgICAgIGR2LnNwYW4oXCItICoqYHZpZXdQYWdlc1JlY2VudChkdiwgYXJncylgKiogLSBMaXN0cyBwYWdlcyBzb3J0ZWQgYnkgbGFzdCBtb2RpZmllZCBkYXRlXCIpO1xyXG4gICAgICAgICBkdi5zcGFuKFwiLSAqKmB2aWV3VGFza1N0YWdlcyhkdiwgYXJncylgKiogLSBTaG93cyB0YXNrIHN0YWdlcyBhbmQgcXVhbnRpdGllc1wiKTtcclxuICAgICAgICAgZHYuc3BhbihcIi0gKipgdmlld1Rhc2tQcm9ncmVzc2lvbihkdiwgYXJncylgKiogLSBTaG93cyBvdmVyYWxsIHRhc2sgcHJvZ3Jlc3Npb25cIik7XHJcbiAgICAgICAgIGR2LnNwYW4oXCItICoqYHZpZXdUYXNrc1ByaW9yaXRpemVkKGR2LCBhcmdzKWAqKiAtIFNob3dzIHByaW9yaXRpemVkIHRhc2tzIGJ5IHN0YXR1c1wiKTtcclxuICAgICAgICAgZHYuc3BhbihcIi0gKipgdmlld1Rhc2tzUGxhbm5pbmcoZHYsIGFyZ3MpYCoqIC0gU2hvd3MgdGFza3MgcmVhZHkgZm9yIHBsYW5uaW5nXCIpO1xyXG4gICAgICAgICBkdi5zcGFuKFwiLSAqKmB2aWV3VGFza3NJZGVhdGlvbihkdiwgYXJncylgKiogLSBTaG93cyB0YXNrcyBuZWVkaW5nIGlkZWF0aW9uXCIpO1xyXG5cclxuICAgICAgICAgZHYuc3BhbihcIlVzZSB0aGUgZm9sbG93aW5nIGFyZ3VtZW50cyB0byBmaWx0ZXIgdGhlIHRhc2tzXCIpO1xyXG4gICAgICAgICBkdi5zcGFuKFxyXG4gICAgICAgICAgICBcIi0gKipgc2VhcmNoUGF0aGAqKiAtIEZpbHRlciB0YXNrcyBieSBwYXRoXFxuXCIgK1xyXG4gICAgICAgICAgICAgICBcIlxcdEV4YW1wbGVzOlxcblwiICtcclxuICAgICAgICAgICAgICAgXCJcXHRcXHRge3NlYXJjaFBhdGg6ICcuJ31gIHNlYXJjaGVzIGp1c3QgdGhpcyBwYWdlXFxuXCIgK1xyXG4gICAgICAgICAgICAgICBcIlxcdFxcdGB7c2VhcmNoUGF0aDogJ1xcXCJwYXRoL3RvL2ZvbGRlclxcXCInfWAgc2VhcmNoZXMgYSBmb2xkZXIgYW5kIHN1YmZvbGRlcnNcXG5cIiArXHJcbiAgICAgICAgICAgICAgIFwiXFx0T21pdHRpbmcgdGhlIGFyZ3VtZW50IHNlYXJjaGVzIGFsbCBwYWdlc1wiXHJcbiAgICAgICAgICk7XHJcbiAgICAgICAgIGR2LnNwYW4oXHJcbiAgICAgICAgICAgIFwiLSAqKmB2aWV3SGlkZGVuRmlsZXNgKiogLSBJbmNsdWRlIGhpZGRlbiBmaWxlcyBpbiB0aGUgc2VhcmNoXFxuXCJcclxuICAgICAgICAgICAgKyBcIlxcdERpcmVjdG9yaWVzIGFuZCBmaWxlcyBzdGFydGluZyB3aXRoIGBfYCBhcmUgaGlkZGVuXFxuXCJcclxuICAgICAgICAgICAgKyBcIlxcdFVzZSB0aGUgYXJndW1lbnQgdG8gaW5jbHVkZSB0aGVtIGluIHRoZSBzZWFyY2hcXG5cIlxyXG4gICAgICAgICAgICArIFwiXFx0RXhhbXBsZXM6XFxuXCJcclxuICAgICAgICAgICAgKyBcIlxcdFxcdGB7dmlld0hpZGRlbkZpbGVzOiB0cnVlfWBcIlxyXG4gICAgICAgICApO1xyXG5cclxuICAgICAgICAgZHYuc3BhbihcIiMjIyMjIyBUYXNrIG5vdGF0aW9uc1wiKTtcclxuICAgICAgICAgZHYuc3BhbihcIioqVGFzayBTdGF0dXMqKlwiKTtcclxuICAgICAgICAgZHYuc3BhbihcIi0gWyBdIHRvLWRvIFsgXVwiKTtcclxuICAgICAgICAgZHYuc3BhbihcIi0gWy9dIGluIHByb2Nlc3MgWy9dXCIpO1xyXG4gICAgICAgICBkdi5zcGFuKFwiLSBbeF0gY29tcGxldGVkIFt4XVwiKTtcclxuICAgICAgICAgZHYuc3BhbihcIi0gWy1dIGNhbmNlbGxlZCBbLV1cIik7XHJcblxyXG4gICAgICAgICBkdi5zcGFuKFwiKipQbGFubmluZyAmIE9yZ2FuaXphdGlvbioqXCIpO1xyXG4gICAgICAgICBkdi5zcGFuKFwiLSBbIV0gcHJpb3JpdHkgWyFdXCIpO1xyXG4gICAgICAgICBkdi5zcGFuKFwiLSBbP10gcXVlc3Rpb24gWz9dXCIpO1xyXG4gICAgICAgICBkdi5zcGFuKFwiLSBbPl0gc2NoZWR1bGUgWz5dXCIpO1xyXG4gICAgICAgICBkdi5zcGFuKFwiLSBbUl0gcmV2aWV3IFtSXVwiKTtcclxuXHJcbiAgICAgICAgIGR2LnNwYW4oXCIqKklkZWF0aW9uICYgUmVmZXJlbmNlKipcIik7XHJcbiAgICAgICAgIGR2LnNwYW4oXCItIFtpXSBpZGVhIFtpXVwiKTtcclxuICAgICAgICAgZHYuc3BhbihcIi0gW2JdIGJvb2ttYXJrIFtiXVwiKTtcclxuICAgICAgICAgZHYuc3BhbihcIi0gW3BdIHBybyBbcF1cIik7XHJcbiAgICAgICAgIGR2LnNwYW4oXCItIFtjXSBjb24gW2NdXCIpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgd2luZG93LnZpZXdUYWdzID0gYXN5bmMgKGR2LCBhcmdzKSA9PiB7XHJcbiAgICAgICAgIHRhZ3MudXBkYXRlKHRoaXMuc2V0dGluZ3MsIGR2LCBhcmdzKTtcclxuICAgICAgICAgLy8gbGV0IGxpc3QgPSB0YWdzLmZpbHRlcihjdHguc2VhcmNoVGFncyk7XHJcbiAgICAgICAgIC8vIHRhZ3MudmlldyhkdiwgXCJUYWdzXCIsIGxpc3QpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgd2luZG93LnZpZXdUYWdzQUlzID0gYXN5bmMgKGR2LCBhcmdzKSA9PiB7XHJcbiAgICAgICAgIHRhZ3MudXBkYXRlKHRoaXMuc2V0dGluZ3MsIGR2LCBhcmdzKTtcclxuICAgICAgICAgdGFncy52aWV3KFxyXG4gICAgICAgICAgICBkdixcclxuICAgICAgICAgICAgXCJBY3Rpb24gSXRlbXNcIixcclxuICAgICAgICAgICAgdGFncy5hbGwud2hlcmUodyA9PiB3LnRhZ3Muc3RhcnRzV2l0aChcIiNhaS9cIikpXHJcbiAgICAgICAgICk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB3aW5kb3cudmlld1RhZ3NBcHBzID0gYXN5bmMgKGR2LCBhcmdzKSA9PiB7XHJcbiAgICAgICAgIHRhZ3MudXBkYXRlKHRoaXMuc2V0dGluZ3MsIGR2LCBhcmdzKTtcclxuICAgICAgICAgdGFncy52aWV3KFxyXG4gICAgICAgICAgICBkdixcclxuICAgICAgICAgICAgXCJBcHBsaWNhdGlvbnNcIixcclxuICAgICAgICAgICAgdGFncy5hbGwud2hlcmUodyA9PiB3LnRhZ3Muc3RhcnRzV2l0aChcIiNhcC9cIikpXHJcbiAgICAgICAgICk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB3aW5kb3cudmlld1RhZ3NEaXNjdXNzaW9ucyA9IGFzeW5jIChkdiwgYXJncykgPT4ge1xyXG4gICAgICAgICB0YWdzLnVwZGF0ZSh0aGlzLnNldHRpbmdzLCBkdiwgYXJncyk7XHJcbiAgICAgICAgIHRhZ3MudmlldyhcclxuICAgICAgICAgICAgZHYsXHJcbiAgICAgICAgICAgIFwiRGlzY3Vzc2lvbnNcIixcclxuICAgICAgICAgICAgdGFncy5hbGwud2hlcmUodyA9PiB3LnRhZ3Muc3RhcnRzV2l0aChcIiNkL1wiKSlcclxuICAgICAgICAgKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHdpbmRvdy52aWV3VGFnc1Byb2plY3RzID0gYXN5bmMgKGR2LCBhcmdzKSA9PiB7XHJcbiAgICAgICAgIHRhZ3MudXBkYXRlKHRoaXMuc2V0dGluZ3MsIGR2LCBhcmdzKTtcclxuICAgICAgICAgdGFncy52aWV3KFxyXG4gICAgICAgICAgICBkdixcclxuICAgICAgICAgICAgXCJQcm9qZWN0c1wiLFxyXG4gICAgICAgICAgICB0YWdzLmFsbC53aGVyZSh3ID0+IHcudGFncy5zdGFydHNXaXRoKFwiI3AvXCIpKVxyXG4gICAgICAgICApO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgd2luZG93LmhlbHBUYWdzID0gYXN5bmMgKGR2LCBhcmdzKSA9PiB7XHJcbiAgICAgICAgIGR2LmhlYWRlcih0c2tzLmhlYWRlclNpemUsIFwiVGFnIE1hbmFnZW1lbnRcIik7XHJcbiAgICAgICAgIGR2LnNwYW4oXCJUaGUgZm9sbG93aW5nIGNvbW1hbmRzIGFyZSBhdmFpbGFibGUgdG8gbWFuYWdlIHRhZ3M6XCIpO1xyXG4gICAgICAgICBkdi5zcGFuKFwiLSAqKmB2aWV3VGFncyhkdiwgYXJncylgKiogLSBMaXN0cyB0YWdzIHNvcnRlZCBpbiBhbHBoYWJldGljYWwgb3JkZXJcIik7XHJcbiAgICAgICAgIC8vIGR2LnNwYW4oXCItICoqYHZpZXdUYWdzQUlzKGR2LCBhcmdzKWAqKiAtIExpc3RzIGFjdGlvbiBpdGVtc1wiKTtcclxuICAgICAgICAgLy8gZHYuc3BhbihcIi0gKipgdmlld1RhZ3NBcHBzKGR2LCBhcmdzKWAqKiAtIExpc3RzIGFwcGxpY2F0aW9uc1wiKTtcclxuICAgICAgICAgLy8gZHYuc3BhbihcIi0gKipgdmlld1RhZ3NEaXNjdXNzaW9ucyhkdiwgYXJncylgKiogLSBMaXN0cyBkaXNjdXNzaW9uc1wiKTtcclxuICAgICAgICAgLy8gZHYuc3BhbihcIi0gKipgdmlld1RhZ3NQcm9qZWN0cyhkdiwgYXJncylgKiogLSBMaXN0cyBwcm9qZWN0c1wiKTtcclxuXHJcbiAgICAgICAgIGR2LnNwYW4oXCJVc2UgdGhlIGZvbGxvd2luZyBhcmd1bWVudHMgdG8gZmlsdGVyIHRoZSB0YWdzXCIpO1xyXG4gICAgICAgICBkdi5zcGFuKFxyXG4gICAgICAgICAgICBcIi0gKipgc2VhcmNoVGFnc2AqKiAtIEZpbHRlciB0YWdzIGJ5IHN0YXJ0aW5nIHRleHRcXG5cIlxyXG4gICAgICAgICAgICArIFwiXFx0RXhhbXBsZXM6XFxuXCJcclxuICAgICAgICAgICAgKyBcIlxcdFxcdGB7c2VhcmNoVGFnczogJyNQcm9qMSd9YCAtIGRpc3BsYXlzIHRhZ3Mgc3RhcnRpbmcgd2l0aCAjUHJvajFcXG5cIlxyXG4gICAgICAgICAgICArIFwiXFx0XFx0YHtzZWFyY2hUYWdzOiAnJ31gIC0gZGlzcGxheXMgYWxsIHRhZ3NcXG5cIlxyXG4gICAgICAgICAgICArIFwiXFx0XFx0YHtzZWFyY2hUYWdzOiBbJyNQcm9qMScsICcjUHJvajInXX1gIC0gYXJyYXlzIG1heSBiZSB1c2VkIGZvciBhIGxpc3Qgb2YgdGFnc1xcblwiXHJcbiAgICAgICAgICAgICsgXCJcXHRPbWl0dGluZyB0aGUgYXJndW1lbnQgZGlzcGxheXMgYWxsIHRhZ3NcIlxyXG5cclxuICAgICAgICAgKTtcclxuICAgICAgICAgZHYuc3BhbihcclxuICAgICAgICAgICAgXCItICoqYHZpZXdMaXN0SXRlbXNgKiogLSBJbmNsdWRlIHRhZ3MgaW4gbGlzdCBpdGVtcy9idWxsZXRzXCJcclxuICAgICAgICAgICAgKyBcIlxcdEJ5IGRlZmF1bHQsIG9ubHkgdGFncyBpbiB0YXNrcyBhcmUgZGlzcGxheWVkLlxcblwiXHJcbiAgICAgICAgICAgICsgXCJcXHRUYWdzIGluIGxpc3QgaXRlbXMgYXJlIG5vdCBpbmNsdWRlZCBpbiB0aGUgc2VhcmNoXFxuXCJcclxuICAgICAgICAgICAgKyBcIlxcdFVzZSB0aGUgYXJndW1lbnQgdG8gaW5jbHVkZSB0aGVtIGluIHRoZSBzZWFyY2hcXG5cIiBcclxuICAgICAgICAgICAgKyBcIlxcdEV4YW1wbGU6XFxuXCJcclxuICAgICAgICAgICAgK1wiXFx0XFx0YHt2aWV3TGlzdEl0ZW1zOiB0cnVlfWBcIlxyXG4gICAgICAgICApO1xyXG4gICAgICAgICBkdi5zcGFuKFxyXG4gICAgICAgICAgICBcIi0gKipgc2VhcmNoUGF0aGAqKiAtIEZpbHRlciB0YXNrcyBieSBwYXRoXFxuXCIgK1xyXG4gICAgICAgICAgICAgICBcIlxcdEV4YW1wbGVzOlxcblwiICtcclxuICAgICAgICAgICAgICAgXCJcXHRcXHRge3NlYXJjaFBhdGg6ICcuJ31gIHNlYXJjaGVzIGp1c3QgdGhpcyBwYWdlXFxuXCIgK1xyXG4gICAgICAgICAgICAgICBcIlxcdFxcdGB7c2VhcmNoUGF0aDogJ1xcXCJwYXRoL3RvL2ZvbGRlclxcXCInfWAgc2VhcmNoZXMgYSBmb2xkZXIgYW5kIHN1YmZvbGRlcnNcXG5cIiArXHJcbiAgICAgICAgICAgICAgIFwiXFx0T21pdHRpbmcgdGhlIGFyZ3VtZW50IHNlYXJjaGVzIGFsbCBwYWdlc1wiXHJcbiAgICAgICAgICk7XHJcbiAgICAgICAgIGR2LnNwYW4oXHJcbiAgICAgICAgICAgIFwiLSAqKmB2aWV3SGlkZGVuRmlsZXNgKiogLSBJbmNsdWRlIGhpZGRlbiBmaWxlcyBpbiB0aGUgc2VhcmNoXFxuXCJcclxuICAgICAgICAgICAgKyBcIlxcdERpcmVjdG9yaWVzIGFuZCBmaWxlcyBzdGFydGluZyB3aXRoIGBfYCBhcmUgaGlkZGVuXFxuXCJcclxuICAgICAgICAgICAgKyBcIlxcdFVzZSB0aGUgYXJndW1lbnQgdG8gaW5jbHVkZSB0aGVtIGluIHRoZSBzZWFyY2hcXG5cIlxyXG4gICAgICAgICAgICArIFwiXFx0RXhhbXBsZTpcXG5cIlxyXG4gICAgICAgICAgICArIFwiXFx0XFx0YHt2aWV3SGlkZGVuRmlsZXM6IHRydWV9YFwiXHJcbiAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAvLyBkdi5zcGFuKFwiVXNlIHRoZSBmb2xsb3dpbmcgcHJlZml4ZXMgdG8gZmlsdGVyIHRoZSB0YWdzIGluIGBzZWFyY2hUYWdzYFwiKTtcclxuICAgICAgICAgLy8gZHYuc3BhbihcIi0gKipgI2FpL05BTUVgKiogLSBhY3Rpb24gaXRlbSB3aXRoIGBOQU1FYFwiKTtcclxuICAgICAgICAgLy8gZHYuc3BhbihcIi0gKipgI2FwL0FQUGAqKiAtIGFwcGxpY2F0aW9uIGBBUFBgXCIpO1xyXG4gICAgICAgICAvLyBkdi5zcGFuKFwiLSAqKmAjZC9OQU1FYCoqIC0gZGlzY3Vzc2lvbiB3aXRoIGBOQU1FYFwiKTtcclxuICAgICAgICAgLy8gZHYuc3BhbihcIi0gKipgI3AvTkFNRWAqKiAtIHByb2plY3QgYE5BTUVgXCIpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy5yZWdpc3Rlck1hcmtkb3duQ29kZUJsb2NrUHJvY2Vzc29yKFwiZGFzaFwiLCAoc3JjLCBlbCwgY3R4KSA9PiB7XHJcbiAgICAgICAgIGNvbnNvbGUubG9nKFwiZGFzaFwiLCBzcmMsIFwiPC0tIHNvdXJjZVwiLCBlbCwgY3R4KTtcclxuICAgICAgICAgbGV0IGNhcmRzID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgIHRpdGxlOiBcIkNhbGVuZGFyXCIsXHJcbiAgICAgICAgICAgICAgIGNvbnRlbnQ6IGBcclxuICAgICAgICAgICAgICAgW1tDYWxlbmRhciBBY3Rpb25zXV0gXHJcbiAgICAgICAgICAgICAgIFtbUmVjZW50IFVwZGF0ZXNdXSBcclxuICAgICAgICAgICAgICAgW1tQcmlvcml0aWVzXV0gXHJcbiAgICAgICAgICAgICAgIFtbT2JzaWRpYW4gTm90ZXNdXWAsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdGl0bGU6IFwiVGFza3NcIixcclxuICAgICAgICAgICAgICAgY29udGVudDogYFxyXG4gICAgICAgICAgICAgICBbW1Rhc2sgU3RhZ2VzXV0gXHJcbiAgICAgICAgICAgICAgIFtbVGFzayBQcm9ncmVzc2lvbl1dIFxyXG4gICAgICAgICAgICAgICBbW1Rhc2tzIFByaW9yaXRpemVkXV0gXHJcbiAgICAgICAgICAgICAgIFtbVGFza3MgUGxhbm5pbmddXSBcclxuICAgICAgICAgICAgICAgW1tUYXNrcyBJZGVhdGlvbl1dXHJcbiAgICAgICAgICAgICAgIFtbSGVscCBUYXNrc11dYCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICB0aXRsZTogXCJUYWdzXCIsXHJcbiAgICAgICAgICAgICAgIGNvbnRlbnQ6IGBcclxuICAgICAgICAgICAgICAgW1tBbGwgVGFnc11dIFxyXG4gICAgICAgICAgICAgICBbW0FjdGlvbiBJdGVtc11dIFxyXG4gICAgICAgICAgICAgICBbW0FwcGxpY2F0aW9uc11dIFxyXG4gICAgICAgICAgICAgICBbW0Rpc2N1c3Npb25zXV0gXHJcbiAgICAgICAgICAgICAgIFtbUHJvamVjdHNdXVxyXG4gICAgICAgICAgICAgICBbW0hlbHAgVGFnc11dYCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgXTtcclxuICAgICAgICAgY29uc3QgY29udGFpbmVyID0gY3JlYXRlRWwoXCJkaXZcIiwgeyBjbHM6IFwib2Jyby1jb250YWluZXJcIiB9KTtcclxuICAgICAgICAgY2FyZHMuZm9yRWFjaChjID0+IHtcclxuICAgICAgICAgICAgbGV0IHQgPSBcIlwiO1xyXG4gICAgICAgICAgICBjLmNvbnRlbnQuc3BsaXQoXCJcXG5cIikuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgY29uc3QgbCA9IGl0ZW0udHJpbSgpLnJlcGxhY2UoXCJbW1wiLCBcIlwiKS5yZXBsYWNlKFwiXV1cIiwgXCJcIik7XHJcbiAgICAgICAgICAgICAgIGlmIChsKSB7XHJcbiAgICAgICAgICAgICAgICAgIHQgKz0gYDxhIGhyZWY9XCJvYnNpZGlhbjovL29wZW4/ZmlsZT0ke2wucmVwbGFjZSgvIC9nLCBcIiUyMFwiKX0ubWRcIj4ke2x9PC9hPjxicj5gO1xyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZGFzaC5hZGRDYXJkKGMudGl0bGUsIHQpKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgICAgIGVsLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gKHdpbmRvdy5hZGRNZW1vRmllbGRzID0gKG1lbW9UaXRsZSwgbWVtb0NvbnRlbnQpID0+IHtcclxuICAgICAgLy8gICAgY29uc3QgZWRpdG9yID0gdGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUxlYWYudmlldy5zb3VyY2VNb2RlLmNtRWRpdG9yO1xyXG5cclxuICAgICAgLy8gICAgLy8gR2VuZXJhdGUgY3VycmVudCBkYXRlIGluIFlZWVktTU0tREQgZm9ybWF0XHJcbiAgICAgIC8vICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXTtcclxuXHJcbiAgICAgIC8vICAgIC8vIE1hcmtkb3duIHRlbXBsYXRlIGZvciBtZW1vIGZpZWxkc1xyXG4gICAgICAvLyAgICBjb25zdCBtZW1vRmllbGRzTWFya2Rvd24gPSBgXHJcbiAgICAgIC8vICAgICAgICBcXG4jIyBNZW1vOiAke21lbW9UaXRsZX1cclxuICAgICAgLy8gICAgICAgIFxcbi0gKipEYXRlOioqICR7Y3VycmVudERhdGV9XHJcbiAgICAgIC8vICAgICAgICBcXG4tICoqQ29udGVudDoqKiAke21lbW9Db250ZW50fVxyXG4gICAgICAvLyAgICAgICAgXFxuYDtcclxuXHJcbiAgICAgIC8vICAgIC8vIEluc2VydCBtZW1vIGZpZWxkcyBpbnRvIHRoZSBkb2N1bWVudFxyXG4gICAgICAvLyAgICBlZGl0b3IucmVwbGFjZVNlbGVjdGlvbihtZW1vRmllbGRzTWFya2Rvd24pO1xyXG4gICAgICAvLyB9KSxcclxuICAgICAgLy8gICAgLy8gTkVFRCBUTyBNQUtFIFRISVMgVVNFRlVMXHJcbiAgICAgIC8vICAgIHRoaXMuYWRkQ29tbWFuZCh7XHJcbiAgICAgIC8vICAgICAgIGlkOiBcImFkZC1tZW1vLWZpZWxkc1wiLFxyXG4gICAgICAvLyAgICAgICBuYW1lOiBcIkFkZCBNZW1vIEZpZWxkc1wiLFxyXG4gICAgICAvLyAgICAgICBob3RrZXlzOiBbeyBtb2RpZmllcnM6IFtcIk1vZFwiLCBcIlNoaWZ0XCJdLCBrZXk6IFwib1wiIH1dLFxyXG4gICAgICAvLyAgICAgICBlZGl0b3JDYWxsYmFjazogKGVkaXRvcjogRWRpdG9yKSA9PiB7XHJcbiAgICAgIC8vICAgICAgICAgIHdpbmRvdy5hZGRNZW1vRmllbGRzKFwiVGVzdCBNZW1vXCIsIFwiQmxhaCwgQmxhaCwgQmxhaFwiKTtcclxuICAgICAgLy8gICAgICAgfSxcclxuICAgICAgLy8gICAgfSk7XHJcbiAgIH1cclxuXHJcbiAgIG9udW5sb2FkKCkge1xyXG4gICAgICAvLyBUT0RPOiBhZGQgdW5sb2FkIGNvZGVcclxuICAgfVxyXG5cclxuICAgYXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG4gICAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuICAgICAgY29uc29sZS5lcnJvcihgb0JybyAke3RoaXMubWFuaWZlc3QudmVyc2lvbn06IFNldHRpbmdzIGFyZSBsb2FkZWQhYCwgdGhpcy5zZXR0aW5ncyk7XHJcbiAgIH1cclxuXHJcbiAgIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuICAgICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuICAgICAgY29uc29sZS5lcnJvcihgb0JybyAke3RoaXMubWFuaWZlc3QudmVyc2lvbn06IFNldHRpbmdzIGFyZSBzYXZlZCFgLCB0aGlzLnNldHRpbmdzKTtcclxuICAgfVxyXG59XHJcblxyXG5jbGFzcyBvQnJvU2V0dGluZ3NUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuICAgcGx1Z2luOiBvQnJvO1xyXG5cclxuICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogb0Jybykge1xyXG4gICAgICBzdXBlcihhcHAsIHBsdWdpbik7XHJcbiAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG4gICB9XHJcblxyXG4gICBkaXNwbGF5KCkge1xyXG4gICAgICB0aGlzLmNvbnRhaW5lckVsLmVtcHR5KCk7XHJcbiAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoMVwiLCB7IHRleHQ6IFwiR2VuZXJhbCBTZXR0aW5nc1wiIH0pO1xyXG5cclxuICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcImJcIiwgeyB0ZXh0OiBcIiBcIiB9KTtcclxuICAgICAgLy8gdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcImhyXCIsIHsgdGV4dDogXCIgXCIgfSk7XHJcbiAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoMlwiLCB7IHRleHQ6IFwiU2VhcmNoIFBhZ2VzXCIgfSk7XHJcbiAgICAgIG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyRWwpXHJcbiAgICAgICAgIC5zZXROYW1lKFwiU2VhcmNoIFBhdGhcIilcclxuICAgICAgICAgLnNldERlc2MoXCJFbnRlciBhIHBhdGggcmVsYXRpdmUgdG8gdGhlIHZhdWx0IG9yIGAuYCBmb3IgdGhlIGN1cnJlbnQgcGFnZSBvbmx5LlwiKVxyXG4gICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+XHJcbiAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFwiRW50ZXIgdGhlIHBhdGggb3IgbGVhdmUgYmxhbmsgZm9yIGFsbC5cIilcclxuICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNlYXJjaFBhdGgpXHJcbiAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnNlYXJjaFBhdGggPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICk7XHJcbiAgICAgIG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyRWwpXHJcbiAgICAgICAgIC5zZXROYW1lKFwiVmlldyBIaWRkZW4gUGFnZXNcIilcclxuICAgICAgICAgLnNldERlc2MoXHJcbiAgICAgICAgICAgIFwiSW5jbHVkZSBwYWdlcyBhbmQgc3ViZGlyZWN0b3JpZXMgc3RhcnRpbmcgd2l0aCBgX2AuIFRoZXNlIGFyZSB1c3VhbGx5IGhpZGRlbiBmcm9tIHZpZXcuXCJcclxuICAgICAgICAgKVxyXG4gICAgICAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PlxyXG4gICAgICAgICAgICB0b2dnbGUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mudmlld0hpZGRlbkZpbGVzKS5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnZpZXdIaWRkZW5GaWxlcyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgKTtcclxuXHJcbiAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJiXCIsIHsgdGV4dDogXCIgXCIgfSk7XHJcbiAgICAgIC8vIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoclwiLCB7IHRleHQ6IFwiIFwiIH0pO1xyXG4gICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiBcIlNlYXJjaCBUYWdzXCIgfSk7XHJcbiAgICAgIG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyRWwpXHJcbiAgICAgICAgIC5zZXROYW1lKFwiU2VhcmNoIFRhZ1wiKVxyXG4gICAgICAgICAuc2V0RGVzYyhcIlNlYXJjaCBmb3IgdGFza3Mgc3RhcnRpbmcgd2l0aCB0aGUgdGFnLiBMZWF2ZSBibGFuayBmb3IgYWxsIHRhZ3MuXCIpXHJcbiAgICAgICAgIC5hZGRUZXh0KHRleHQgPT5cclxuICAgICAgICAgICAgdGV4dFxyXG4gICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoXCJFbnRlciB0aGUgdGFnIG9yIGxlYXZlIGJsYW5rIGZvciBhbGwuXCIpXHJcbiAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zZWFyY2hUYWdzKVxyXG4gICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgdmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zZWFyY2hUYWdzID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICApO1xyXG4gICAgICBuZXcgU2V0dGluZyh0aGlzLmNvbnRhaW5lckVsKVxyXG4gICAgICAgICAuc2V0TmFtZShcIlZpZXcgTGlzdFwiKVxyXG4gICAgICAgICAuc2V0RGVzYyhcIkluY2x1ZGUgYnVsbGV0cyAobGlzdCBpdGVtcykgaW4gdGhlIHNlYXJjaC4gVGhlc2UgYXJlIHVzdWFsbHkgaGlkZGVuIGZyb20gdmlldy5cIilcclxuICAgICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT5cclxuICAgICAgICAgICAgdG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnZpZXdMaXN0SXRlbXMpLm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcclxuICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Mudmlld0xpc3RJdGVtcyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgKTtcclxuXHJcbiAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJiXCIsIHsgdGV4dDogXCIgXCIgfSk7XHJcbiAgICAgIC8vIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoclwiLCB7IHRleHQ6IFwiIFwiIH0pO1xyXG4gICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiBcIlRhc2sgRm9ybWF0dGluZ1wiIH0pO1xyXG4gICAgICBuZXcgU2V0dGluZyh0aGlzLmNvbnRhaW5lckVsKVxyXG4gICAgICAgICAuc2V0TmFtZShcIkhlYWRlciBTaXplXCIpXHJcbiAgICAgICAgIC5zZXREZXNjKFwiRW50ZXIgYSBzaXplIGZyb20gMSAtIDYuXCIpXHJcbiAgICAgICAgIC5hZGRUZXh0KHRleHQgPT5cclxuICAgICAgICAgICAgdGV4dFxyXG4gICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoXCI1XCIpXHJcbiAgICAgICAgICAgICAgIC5zZXRWYWx1ZShcIlwiICsgdGhpcy5wbHVnaW4uc2V0dGluZ3MudGFza0hlYWRlclNpemUpXHJcbiAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGxldCBwYXJzZWQgPSBwYXJzZUludCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChpc05hTihwYXJzZWQpKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQgPCAxIHx8IHBhcnNlZCA+IDYpIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MudGFza0hlYWRlclNpemUgPSBwYXJzZWQ7XHJcbiAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICB0c2tzLmhlYWRlclNpemUgPSBwYXJzZWQ7XHJcbiAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBvQnJvOiBIZWFkZXIgU2l6ZWAsIHRoaXMucGx1Z2luLnNldHRpbmdzLCB0c2tzLmhlYWRlclNpemUpO1xyXG4gICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICApO1xyXG5cclxuICAgICAgLy8gdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcImgyXCIsIHsgdGV4dDogXCJEYXRlIFNldHRpbmdzXCIgfSk7XHJcbiAgICAgIC8vIG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyRWwpXHJcbiAgICAgIC8vICAgICAuc2V0TmFtZShcIkVuYWJsZSBJbmxpbmUgUXVlcmllc1wiKVxyXG4gICAgICAvLyAgICAgLnNldERlc2MoXCJFbmFibGUgb3IgZGlzYWJsZSBleGVjdXRpbmcgcmVndWxhciBpbmxpbmUgRGF0YXZpZXcgcXVlcmllcy5cIilcclxuICAgICAgLy8gICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG4gICAgICAvLyAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVJbmxpbmVEYXRhdmlldylcclxuICAgICAgLy8gICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiBhd2FpdCB0aGlzLnBsdWdpbi51cGRhdGVTZXR0aW5ncyh7IGVuYWJsZUlubGluZURhdGF2aWV3OiB2YWx1ZSB9KVxyXG4gICAgICAvLyAgICAgICAgIClcclxuICAgICAgLy8gICAgICk7XHJcbiAgICAgIC8vIG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyRWwpXHJcbiAgICAgIC8vICAgICAuc2V0TmFtZShcIkVuYWJsZSBJbmxpbmUgUXVlcmllc1wiKVxyXG4gICAgICAvLyAgICAgLnNldERlc2MoXCJFbmFibGUgb3IgZGlzYWJsZSBleGVjdXRpbmcgcmVndWxhciBpbmxpbmUgRGF0YXZpZXcgcXVlcmllcy5cIilcclxuICAgICAgLy8gICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG4gICAgICAvLyAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVJbmxpbmVEYXRhdmlldylcclxuICAgICAgLy8gICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiBhd2FpdCB0aGlzLnBsdWdpbi51cGRhdGVTZXR0aW5ncyh7IGVuYWJsZUlubGluZURhdGF2aWV3OiB2YWx1ZSB9KVxyXG4gICAgICAvLyAgICAgICAgIClcclxuICAgICAgLy8gICAgICk7XHJcblxyXG4gICAgICAvLyAgICAgLnNldERlc2MoXCJTaXplIG9mIGhlYWRlcnMgcHJlc2VudGVkIHdpdGggd2l0aCB2aWV3LlwiKVxyXG4gICAgICAvLyB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiYlwiLCB7IHRleHQ6IFwiIFwiIH0pO1xyXG4gICAgICAvLyB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiBcIkRpc3BsYXkgUHJlZmVyZW5jZXNcIiB9KTtcclxuICAgICAgLy8gbmV3IFNldHRpbmcodGhpcy5jb250YWluZXJFbClcclxuICAgICAgLy8gICAgIC5zZXROYW1lKFwiSGVhZGVyIFNpemVcIilcclxuICAgICAgLy8gICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG4gICAgICAvLyAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVJbmxpbmVEYXRhdmlldylcclxuICAgICAgLy8gICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiBhd2FpdCB0aGlzLnBsdWdpbi51cGRhdGVTZXR0aW5ncyh7IGVuYWJsZUlubGluZURhdGF2aWV3OiB2YWx1ZSB9KVxyXG4gICAgICAvLyAgICAgICAgIClcclxuICAgICAgLy8gICAgICk7XHJcbiAgICAgIC8vIG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyRWwpXHJcbiAgICAgIC8vICAgICAuc2V0TmFtZShcIkVuYWJsZSBJbmxpbmUgUXVlcmllc1wiKVxyXG4gICAgICAvLyAgICAgLnNldERlc2MoXCJFbmFibGUgb3IgZGlzYWJsZSBleGVjdXRpbmcgcmVndWxhciBpbmxpbmUgRGF0YXZpZXcgcXVlcmllcy5cIilcclxuICAgICAgLy8gICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG4gICAgICAvLyAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVJbmxpbmVEYXRhdmlldylcclxuICAgICAgLy8gICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiBhd2FpdCB0aGlzLnBsdWdpbi51cGRhdGVTZXR0aW5ncyh7IGVuYWJsZUlubGluZURhdGF2aWV3OiB2YWx1ZSB9KVxyXG4gICAgICAvLyAgICAgICAgIClcclxuICAgICAgLy8gICAgICk7XHJcbiAgIH1cclxufVxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLVxyXG4vLyBGaWxlcyAmIFBhZ2VzXHJcbi8vIC0tLS0tLS0tLS0tLS1cclxuXHJcbi8vIHRvZG8gLSBjaGVjayBpZiBmaWxlIGlzIGhpZGRlblxyXG5mdW5jdGlvbiBpc0ZpbGVWaXNpYmxlKGYsIHZpZXdIaWRkZW5GaWxlcykge1xyXG4gICB0cnkge1xyXG4gICAgICAvL2lmIChmID09ICcnKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIGlmICh2aWV3SGlkZGVuRmlsZXMpIHJldHVybiB0cnVlO1xyXG4gICAgICBjb25zdCBwYXRoUGFydHMgPSBmLnNwbGl0KFwiL1wiKTtcclxuICAgICAgLy8gY29uc29sZS5sb2coYHBhdGhQYXJ0c2AsIHBhdGhQYXJ0cywgZik7XHJcbiAgICAgIGxldCBpID0gcGF0aFBhcnRzLmxlbmd0aCAtIDE7XHJcbiAgICAgIHdoaWxlIChpID49IDApIHtcclxuICAgICAgICAgLy8gY29uc29sZS5sb2coYHBhdGhQYXJ0c1tgLCBpLCBgXSBcImAsIHBhdGhQYXJ0c1tpXSwgYFwiYCk7XHJcbiAgICAgICAgIGlmIChwYXRoUGFydHNbaV0uc3RhcnRzV2l0aChcIl9cIikpIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgLS1pO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yOiBcIiwgZXJyLm1lc3NhZ2UpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgIH1cclxufVxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIENvbnRleHQgTWFuYWdlbWVudFxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmxldCBjdHggPSB7XHJcbiAgIHRvZGF5OiB7fSxcclxuICAgc293OiB7fSxcclxuICAgZW93OiB7fSxcclxuICAgZW9udzoge30sXHJcbiAgIHNvNHdhOiB7fSxcclxuXHJcbiAgIHNlYXJjaFRhZ3M6IG51bGwsXHJcbiAgIHZpZXdMaXN0SXRlbXM6IG51bGwsXHJcbiAgIHNlYXJjaFBhdGg6IG51bGwsXHJcbiAgIHZpZXdIaWRkZW5GaWxlczogbnVsbCxcclxuICAgaGVhZGVyU2l6ZToge30sXHJcblxyXG4gICAvLyBhZGQgcGFyYW0gdG8gb3ZlcnJpZGUgdG9kYXlcclxuICAgdXBkYXRlRGF0ZXMoZHYpIHtcclxuICAgICAgY29uc3QgeyBEYXRlVGltZSB9ID0gZHYubHV4b247XHJcbiAgICAgIHRoaXMudG9kYXkgPSBkdi5kYXRlKFwidG9kYXlcIik7XHJcbiAgICAgIHRoaXMuc293ID0gdGhpcy50b2RheS5wbHVzKHsgZGF5czogLSh0aGlzLnRvZGF5LndlZWtkYXkgJSA3KSB9KTtcclxuICAgICAgdGhpcy5lb3cgPSB0aGlzLnNvdy5wbHVzKHsgZGF5czogNywgbWlsbGlzZWNvbmRzOiAtMSB9KTtcclxuICAgICAgdGhpcy5lb253ID0gdGhpcy5lb3cucGx1cyh7IGRheXM6IDcgfSk7XHJcbiAgICAgIHRoaXMuc280d2EgPSB0aGlzLnNvdy5wbHVzKHsgZGF5czogLTI4IH0pO1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyhgb0JybzogdXBkYXRlRGF0ZXNgLCB0b2RheSwgc293LCBlb3csIGVvbncsIHNvNHdhKTtcclxuICAgfSxcclxuXHJcbiAgIHVwZGF0ZUNyaXRlcmlhKHNldHRpbmdzLCBkdiwgYXJncykge1xyXG4gICAgICB0aGlzLnNlYXJjaFRhZ3MgPSBzZXR0aW5ncy5zZWFyY2hUYWdzO1xyXG4gICAgICB0aGlzLnZpZXdMaXN0SXRlbXMgPSBzZXR0aW5ncy52aWV3TGlzdEl0ZW1zO1xyXG4gICAgICB0aGlzLnNlYXJjaFBhdGggPSBzZXR0aW5ncy5zZWFyY2hQYXRoO1xyXG4gICAgICB0aGlzLnZpZXdIaWRkZW5GaWxlcyA9IHNldHRpbmdzLnZpZXdIaWRkZW5GaWxlcztcclxuICAgICAgdGhpcy5oZWFkZXJTaXplID0gc2V0dGluZ3MudGFza0hlYWRlclNpemU7XHJcbiAgICAgIGlmIChhcmdzKSB7XHJcbiAgICAgICAgIGlmIChhcmdzLnNlYXJjaFRhZ3MpIHRoaXMuc2VhcmNoVGFncyA9IGFyZ3Muc2VhcmNoVGFncztcclxuICAgICAgICAgaWYgKGFyZ3Mudmlld0xpc3RJdGVtcykgdGhpcy52aWV3TGlzdEl0ZW1zID0gYXJncy52aWV3TGlzdEl0ZW1zO1xyXG4gICAgICAgICBpZiAoYXJncy5zZWFyY2hQYXRoKSB0aGlzLnNlYXJjaFBhdGggPSBhcmdzLnNlYXJjaFBhdGg7XHJcbiAgICAgICAgIGlmIChhcmdzLnZpZXdIaWRkZW5GaWxlcykgdGhpcy52aWV3SGlkZGVuRmlsZXMgPSBhcmdzLnZpZXdIaWRkZW5GaWxlcztcclxuICAgICAgfVxyXG4gICB9LFxyXG5cclxuICAgZ2V0Q29udGV4dChzZXR0aW5ncywgZHYsIGFyZ3MpIHtcclxuICAgICAgdGhpcy51cGRhdGVEYXRlcyhkdik7XHJcbiAgICAgIHRoaXMudXBkYXRlQ3JpdGVyaWEoc2V0dGluZ3MsIGR2LCBhcmdzKTtcclxuICAgfSxcclxufTtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLVxyXG4vLyBUYXNrIE1hbmFnZW1lbnRcclxuLy8gLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5sZXQgdHNrcyA9IHtcclxuICAgZ2V0QWxsVHM6IDAsXHJcbiAgIHNvcnRUczogMCxcclxuICAgYWxsOiBbXSxcclxuICAgb3ZlcmR1ZTogW10sXHJcbiAgIHRoaXNXZWVrOiBbXSxcclxuICAgbmV4dFdlZWs6IFtdLFxyXG4gICBzdGFydGVkOiBbXSxcclxuICAgbm90UHJpb3JpdGl6ZWQ6IFtdLFxyXG4gICBjb21wbGV0ZWQ6IFtdLFxyXG4gICBoZWFkZXJTaXplOiA1LFxyXG5cclxuICAgYXN5bmMgZ2V0QWxsKGR2LCBhcmdzKSB7XHJcbiAgICAgIHRoaXMuYWxsID0gW107XHJcbiAgICAgIHRoaXMuZ2V0QWxsVHMgPSBudWxsO1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyhcInBhZ2VzXCIsIGR2LnBhZ2VzKGN0eC5zZWFyY2hQYXRoKSwgXCJwYXRoXCIsIGN0eC5zZWFyY2hQYXRoLCBcIi5cIik7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgIGlmIChjdHguc2VhcmNoUGF0aCA9PSBcIi5cIiB8fCBjdHguc2VhcmNoUGF0aCA9PSAnXCIuXCInKVxyXG4gICAgICAgICAgICB0aGlzLmFsbCA9IGF3YWl0IGR2LmN1cnJlbnQoKS5maWxlLnRhc2tzO1xyXG4gICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMuYWxsID0gYXdhaXQgZHZcclxuICAgICAgICAgICAgICAgLnBhZ2VzKGN0eC5zZWFyY2hQYXRoKVxyXG4gICAgICAgICAgICAgICAud2hlcmUocCA9PiBpc0ZpbGVWaXNpYmxlKHAuZmlsZS5wYXRoLCBjdHgudmlld0hpZGRlbkZpbGVzKSkuZmlsZS50YXNrcztcclxuICAgICAgICAgdGhpcy5nZXRBbGxUcyA9IERhdGUubm93KCk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICBjb25zb2xlLmVycm9yKFwib0JybzogdHNrcy5nZXRBbGwgZmFpbDogXCIsIGVyci5tZXNzYWdlLCBjdHguc2VhcmNoUGF0aCk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gY29uc29sZS5sb2coYG9Ccm86IGdldEFsbFRzYCwgdGhpcy5hbGwsIHRoaXMuZ2V0QWxsVHMsIERhdGUubm93KCkgLSB0aGlzLmdldEFsbFRzKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICB9LFxyXG5cclxuICAgYXN5bmMgc29ydChkdikge1xyXG4gICAgICB0aGlzLm92ZXJkdWUgPSBbXTtcclxuICAgICAgdGhpcy50aGlzV2VlayA9IFtdO1xyXG4gICAgICB0aGlzLm5leHRXZWVrID0gW107XHJcbiAgICAgIHRoaXMuc3RhcnRlZCA9IFtdO1xyXG4gICAgICB0aGlzLm5vdFByaW9yaXRpemVkID0gW107XHJcbiAgICAgIHRoaXMuY29tcGxldGVkID0gW107XHJcbiAgICAgIHRoaXMuc29ydFRzID0gbnVsbDtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAgZm9yIChsZXQgdCBvZiB0aGlzLmFsbCkge1xyXG4gICAgICAgICAgICBpZiAodC5jb21wbGV0ZWQpIHtcclxuICAgICAgICAgICAgICAgaWYgKGN0eC5zbzR3YSA8PSB0LmNvbXBsZXRpb24pIHRoaXMuY29tcGxldGVkLnB1c2godCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXQuZHVlKSB7XHJcbiAgICAgICAgICAgICAgIGlmICh0LnN0YXJ0ICYmIHQuc3RhcnQgPD0gY3R4LnRvZGF5KSB0aGlzLnN0YXJ0ZWQucHVzaCh0KTtcclxuICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiVGFza1wiLCB0LCB0aGlzLm5vdFByaW9yaXRpemVkKTtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5ub3RQcmlvcml0aXplZC5wdXNoKHQpO1xyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodC5kdWUgJiYgdC5kdWUgPCBjdHgudG9kYXkpIHRoaXMub3ZlcmR1ZS5wdXNoKHQpO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChjdHguc293IDw9IHQuZHVlICYmIHQuZHVlIDw9IGN0eC5lb3cpIHRoaXMudGhpc1dlZWsucHVzaCh0KTtcclxuICAgICAgICAgICAgZWxzZSBpZiAoY3R4LmVvdyA8IHQuZHVlICYmIHQuZHVlIDw9IGN0eC5lb253KSB0aGlzLm5leHRXZWVrLnB1c2godCk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHQuc3RhcnQgJiYgdC5zdGFydCA8PSBjdHgudG9kYXkpIHRoaXMuc3RhcnRlZC5wdXNoKHQpO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIHRoaXMub3ZlcmR1ZSA9IGR2LmFycmF5KHRoaXMub3ZlcmR1ZSk7XHJcbiAgICAgICAgIHRoaXMudGhpc1dlZWsgPSBkdi5hcnJheSh0aGlzLnRoaXNXZWVrKTtcclxuICAgICAgICAgdGhpcy5uZXh0V2VlayA9IGR2LmFycmF5KHRoaXMubmV4dFdlZWspO1xyXG4gICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBkdi5hcnJheSh0aGlzLnN0YXJ0ZWQpO1xyXG4gICAgICAgICB0aGlzLm5vdFByaW9yaXRpemVkID0gZHYuYXJyYXkodGhpcy5ub3RQcmlvcml0aXplZCk7XHJcbiAgICAgICAgIHRoaXMuY29tcGxldGVkID0gZHYuYXJyYXkodGhpcy5jb21wbGV0ZWQpO1xyXG4gICAgICAgICB0aGlzLnNvcnRUcyA9IERhdGUubm93KCk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICBjb25zb2xlLmVycm9yKFwib0JybzogdHNrcy5zb3J0IGZhaWw6IFwiLCBlcnIubWVzc2FnZSk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gY29uc29sZS5sb2coYG9Ccm86IHNvcnRUc2AsIHRoaXMub3ZlcmR1ZSwgdGhpcy50aGlzV2VlaywgdGhpcy5uZXh0V2VlaywgdGhpcy5zdGFydGVkLCB0aGlzLm5vdFByaW9yaXRpemVkLCB0aGlzLmNvbXBsZXRlZCwgdGhpcy5zb3J0VHMpO1xyXG4gICAgICBzdGF0dXNCYXIuY2hpbGRyZW5bMF0uc2V0VGV4dChcclxuICAgICAgICAgYE92ZXJkdWU6ICR7dGhpcy5vdmVyZHVlLmxlbmd0aH0gIFRoaXMgV2VlazogJHt0aGlzLnRoaXNXZWVrLmxlbmd0aH1gXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybjtcclxuICAgfSxcclxuXHJcbiAgIGFzeW5jIHVwZGF0ZShzZXR0aW5ncywgZHYsIGFyZ3MpIHtcclxuICAgICAgLy8gY29uc29sZS5sb2coYFNldHRpbmdzOiBgLCBzZXR0aW5ncywgZHYsIGFyZ3MpO1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyhgaGVhZGVyIHNpemU6IGAsIHNldHRpbmdzLnRhc2tIZWFkZXJTaXplLCB0c2tzLmhlYWRlclNpemUpO1xyXG4gICAgICB0c2tzLmhlYWRlclNpemUgPSBzZXR0aW5ncy50YXNrSGVhZGVyU2l6ZTtcclxuICAgICAgY3R4LmdldENvbnRleHQoc2V0dGluZ3MsIGR2LCBhcmdzKTtcclxuICAgICAgYXdhaXQgdGhpcy5nZXRBbGwoZHYsIGFyZ3MpO1xyXG4gICAgICBhd2FpdCB0aGlzLnNvcnQoZHYpO1xyXG4gICB9LFxyXG5cclxuICAgYXN5bmMgc2hvdyhkdiwgdGl0bGUsIHRhc2tzKSB7XHJcbiAgICAgIGlmICghdGFza3MgfHwgIXRhc2tzLmxlbmd0aCkgcmV0dXJuO1xyXG4gICAgICBhd2FpdCBkdi5oZWFkZXIodGhpcy5oZWFkZXJTaXplLCB0aXRsZSArIFwiIChcIiArIHRhc2tzLmxlbmd0aCArIFwiKVwiKTtcclxuICAgICAgYXdhaXQgZHYudGFza0xpc3QodGFza3MsIGZhbHNlKTtcclxuICAgfSxcclxufTtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLVxyXG4vLyBUYWdzIE1hbmFnZW1lbnRcclxuLy8gLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5sZXQgdGFncyA9IHtcclxuICAgYWxsOiBbXSxcclxuICAgdW5pcXVlOiBbXSxcclxuICAgdGFnVHM6IDAsXHJcbiAgIGhlYWRlclNpemU6IDUsXHJcblxyXG4gICBhc3luYyBnZXRBbGwoZHYsIGFyZ3MpIHtcclxuICAgICAgdGhpcy5hbGwgPSBbXTtcclxuICAgICAgdGhpcy50YWdUcyA9IG51bGw7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiY3R4XCIsIGN0eCk7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgIGlmIChjdHguc2VhcmNoUGF0aCA9PSAnXCIuXCInIHx8IGN0eC5zZWFyY2hQYXRoID09IFwiLlwiKVxyXG4gICAgICAgICAgICB0aGlzLmFsbCA9IGF3YWl0IGR2LmN1cnJlbnQoKS5maWxlLmxpc3RzLndoZXJlKHQgPT4gdC50YWdzLmxlbmd0aCA+IDApO1xyXG4gICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMuYWxsID0gYXdhaXQgZHZcclxuICAgICAgICAgICAgICAgLnBhZ2VzKGN0eC5zZWFyY2hQYXRoKVxyXG4gICAgICAgICAgICAgICAud2hlcmUocCA9PiBpc0ZpbGVWaXNpYmxlKHAuZmlsZS5wYXRoLCBjdHgudmlld0hpZGRlbkZpbGVzKSlcclxuICAgICAgICAgICAgICAgLmZpbGUubGlzdHMud2hlcmUodCA9PiB0LnRhZ3MubGVuZ3RoID4gMCk7XHJcbiAgICAgICAgIHRoaXMudGFnVHMgPSBEYXRlLm5vdygpO1xyXG4gICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgY29uc29sZS5lcnJvcihcIm9Ccm86IHRhZ3MuZ2V0QWxsIGZhaWw6IFwiLCBlcnIubWVzc2FnZSk7XHJcbiAgICAgIH1cclxuICAgfSxcclxuXHJcbiAgIGFzeW5jIHVwZGF0ZShzZXR0aW5ncywgZHYsIGFyZ3MpIHtcclxuICAgICAgY3R4LmdldENvbnRleHQoc2V0dGluZ3MsIGR2LCBhcmdzKTtcclxuICAgICAgLy8gY29uc29sZS5sb2coYG9Ccm86IHRhZ3MudXBkYXRlYCwgYXJncywgc2V0dGluZ3MsIGN0eCk7XHJcbiAgICAgIGF3YWl0IHRoaXMuZ2V0QWxsKGR2LCBhcmdzKTtcclxuICAgICAgYXdhaXQgdGFncy52aWV3KGR2LCBjdHguc2VhcmNoVGFncyk7XHJcbiAgIH0sXHJcblxyXG4gICBhc3luYyB2aWV3KGR2LCBzZWFyY2gpIHtcclxuICAgICAgbGV0IHVuaXF1ZVRhZ3MgPSBBcnJheS5mcm9tKG5ldyBTZXQodGhpcy5hbGwudGFncykpLnNvcnQoKTtcclxuICAgICAgbGV0IGZpbHRlcmVkVGFncyA9IFtdO1xyXG5cclxuICAgICAgaWYgKCFzZWFyY2ggfHwgc2VhcmNoID09IFwiXCIpIGZpbHRlcmVkVGFncyA9IHVuaXF1ZVRhZ3M7XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgICBsZXQgZmlsdGVyID0gQXJyYXkuaXNBcnJheShzZWFyY2gpID8gc2VhcmNoIDogW3NlYXJjaF07XHJcbiAgICAgICAgIGZpbHRlcmVkVGFncyA9IHVuaXF1ZVRhZ3MuZmlsdGVyKHQgPT4gZmlsdGVyLmluY2x1ZGVzKHQpKTtcclxuICAgICAgfVxyXG4gICAgICAvLyBjb25zb2xlLmxvZyhgb0JybzogdGFnVHNgLCB0aGlzLmFsbCwgdW5pcXVlVGFncywgZmlsdGVyZWRUYWdzLCBEYXRlLm5vdygpIC0gdGhpcy50YWdUcyk7XHJcblxyXG4gICAgICBmb3IgKGxldCB0IG9mIGZpbHRlcmVkVGFncykge1xyXG4gICAgICAgICBhd2FpdCB0aGlzLnZpZXdUYWcoXHJcbiAgICAgICAgICAgIGR2LFxyXG4gICAgICAgICAgICB0LFxyXG4gICAgICAgICAgICB0aGlzLmFsbC53aGVyZShcclxuICAgICAgICAgICAgICAgdyA9PlxyXG4gICAgICAgICAgICAgICAgICB3LnRhZ3MuaW5jbHVkZXModCkgJiZcclxuICAgICAgICAgICAgICAgICAgKHcudGFzayB8fCBjdHgudmlld0xpc3RJdGVtcykgJiZcclxuICAgICAgICAgICAgICAgICAgdy5zdGF0dXMgIT0gXCJ4XCIgJiZcclxuICAgICAgICAgICAgICAgICAgdy5zdGF0dXMgIT0gXCItXCJcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgIH0sXHJcblxyXG4gICBhc3luYyB2aWV3VGFnKGR2LCB0aXRsZSwgdGFnKSB7XHJcbiAgICAgIGlmICghdGFnIHx8ICF0YWcubGVuZ3RoKSByZXR1cm47XHJcbiAgICAgIGF3YWl0IGR2LmhlYWRlcih0aGlzLmhlYWRlclNpemUsIHRpdGxlICsgXCIgKFwiICsgdGFnLmxlbmd0aCArIFwiKVwiKTtcclxuICAgICAgLy8gY29uc29sZS5sb2codGl0bGUsIHRhZyk7XHJcbiAgICAgIGF3YWl0IGR2LnRhc2tMaXN0KHRhZywgZmFsc2UpO1xyXG4gICB9LFxyXG59O1xyXG5cclxuLy8gLS0tLS0tLS0tLS1cclxuLy8gVVJMIHBhc3RpbmdcclxuLy8gLS0tLS0tLS0tLS1cclxuXHJcbmxldCBVUkwgPSB7XHJcbiAgIGlzVmFsaWRVUkwodXJsKTogYm9vbGVhbiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgIG5ldyBVUkwodXJsKTtcclxuICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICB9LFxyXG5cclxuICAgYXN5bmMgZ2V0TWRVUkwob2JzaWRpYW4sIHVybCkge1xyXG4gICAgICBjb25zb2xlLmxvZyh3aW5kb3cubG9jYXRpb24ub3JpZ2luKTtcclxuXHJcbiAgICAgIGlmICghdGhpcy5pc1ZhbGlkVVJMKHVybCkpIHtcclxuICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBVUkxcIik7XHJcbiAgICAgIH1cclxuICAgICAgbGV0IHAgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG4gICAgICAgICByZXNvbHZlKFxyXG4gICAgICAgICAgICBvYnNpZGlhbi5yZXF1ZXN0VXJsKHVybCwge1xyXG4gICAgICAgICAgICAgICAvLyByZXNvbHZlKGZldGNoKHVybCwge1xyXG4gICAgICAgICAgICAgICBtb2RlOiBcImNvcnNcIixcclxuICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IFwiaW5jbHVkZVwiLFxyXG4gICAgICAgICAgICAgICBvcmlnaW46IFwiXCIsXHJcbiAgICAgICAgICAgICAgIGJvZHk6IFwidGV4dFwiLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICApO1xyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBwO1xyXG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9IDIwMCkge1xyXG4gICAgICAgICBjb25zb2xlLmVycm9yKHJlc3BvbnNlLnN0YXR1cyk7XHJcbiAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5ldHdvcmsgcmVzcG9uc2Ugd2FzIG5vdCBva1wiKTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBodG1sID0gcmVzcG9uc2UudGV4dDtcclxuICAgICAgY29uc3QgZG9jID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhodG1sLCBcInRleHQvaHRtbFwiKTtcclxuICAgICAgY29uc3QgdGl0bGUgPSBkb2MucXVlcnlTZWxlY3RvcihcInRpdGxlXCIpLmlubmVyVGV4dDtcclxuICAgICAgLy8gY29uc29sZS5sb2coJ1RpdGxlOicsIHRpdGxlLCByZXNwb25zZSk7XHJcbiAgICAgIHJldHVybiBgWyR7dGl0bGV9XSgke3VybH0pYDtcclxuICAgfSxcclxufTtcclxuXHJcbi8vIC0tLS0tLS0tLVxyXG4vLyBEYXNoYm9hcmRcclxuLy8gLS0tLS0tLS0tXHJcbmZ1bmN0aW9uIGluc2VydEdyZWVrZWRUYWJsZSgpIHtcclxuICAgY29uc3QgZWRpdG9yID0gdGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUxlYWYudmlldy5zb3VyY2VNb2RlLmNtRWRpdG9yO1xyXG5cclxuICAgLy8gQ3JlYXRlIHRoZSB0YWJsZSBlbGVtZW50XHJcbiAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO1xyXG5cclxuICAgLy8gQXBwbHkgQ1NTIHN0eWxpbmdcclxuICAgdGFibGUuc3R5bGUuYm9yZGVyQ29sbGFwc2UgPSBcImNvbGxhcHNlXCI7XHJcbiAgIHRhYmxlLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XHJcbiAgIHRhYmxlLnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkIGJsYWNrXCI7XHJcblxyXG4gICAvLyBDcmVhdGUgdGFibGUgcm93cyBhbmQgY2VsbHMgd2l0aCBncmVla2VkIHRleHRcclxuICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcclxuICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDI7IGorKykge1xyXG4gICAgICAgICBjb25zdCBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gICAgICAgICBjZWxsLnRleHRDb250ZW50ID0gXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LlwiO1xyXG4gICAgICAgICBjZWxsLnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkIGJsYWNrXCI7XHJcbiAgICAgICAgIGNlbGwuc3R5bGUucGFkZGluZyA9IFwiOHB4XCI7XHJcbiAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcclxuICAgICAgfVxyXG4gICAgICB0YWJsZS5hcHBlbmRDaGlsZChyb3cpO1xyXG4gICB9XHJcblxyXG4gICAvLyBDb252ZXJ0IHRoZSB0YWJsZSBlbGVtZW50IHRvIG1hcmtkb3duXHJcbiAgIGNvbnN0IHRhYmxlTWFya2Rvd24gPSBcImBgYGh0bWxcXG5cIiArIHRhYmxlLm91dGVySFRNTCArIFwiXFxuYGBgXCI7XHJcbiAgIGNvbnNvbGUubG9nKHRhYmxlTWFya2Rvd24pO1xyXG4gICAvLyBJbnNlcnQgdGhlIG1hcmtkb3duIGludG8gdGhlIGVkaXRvclxyXG4gICBlZGl0b3IucmVwbGFjZVNlbGVjdGlvbih0YWJsZU1hcmtkb3duKTtcclxufVxyXG5cclxubGV0IGRhc2ggPSB7XHJcbiAgIGFkZENhcmQodGl0bGUsIGNvbnRlbnQpIHtcclxuICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZUVsKFwiZGl2XCIsIHsgY2xzOiBcIm9icm8tY2FyZFwiIH0pO1xyXG4gICAgICBjYXJkLmFwcGVuZENoaWxkKGNyZWF0ZUVsKFwiZGl2XCIsIHsgdGV4dDogdGl0bGUsIGNsczogXCJvYnJvLWNhcmQtdGl0bGVcIiB9KSk7XHJcbiAgICAgIGNhcmQuYXBwZW5kQ2hpbGQoY3JlYXRlRWwoXCJkaXZcIiwgeyB0ZXh0OiBcIlwiIH0pKTtcclxuICAgICAgY2FyZC5pbm5lckhUTUwgKz0gY29udGVudDtcclxuICAgICAgcmV0dXJuIGNhcmQ7XHJcbiAgIH0sXHJcbn07XHJcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7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
