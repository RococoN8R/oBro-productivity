/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => oBro
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
"use strict;";
var DEFAULT_SETTINGS = {
  searchTags: "",
  viewListItems: false,
  searchPath: "",
  viewHiddenFiles: false,
  taskHeaderSize: 5
};
var statusBar;
var oBro = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    this.app.workspace.onLayoutReady(() => {
      if (!this.app.plugins.plugins["dataview"]) {
        new import_obsidian.Notice(
          "oBro requires the DataView plugin. Please enable the DataView plugin and reload Obsidian."
        );
        return;
      }
      this.addRibbonIcon("waypoints", "oBro", () => {
        new import_obsidian.Notice("oBro's ready!");
      });
      statusBar = this.addStatusBarItem();
    });
    this.addSettingTab(new oBroSettingsTab(this.app, this));
    window.viewPagesRecent = async (dv, args) => {
      ctx.getContext(this.settings, dv, args);
      if (ctx.searchPath == ".")
        ctx.searchPath = "";
      let p = await dv.pages(ctx.searchPath == "." ? "" : ctx.searchPath).sort((t) => -t.file.mtime.ts);
      await dv.table(
        [
          "File",
          "Tasks",
          "Last Modified",
          "Size",
          "Folder",
          ctx.viewHiddenFiles ? "Visible" : ""
        ],
        p.where((p2) => isFileVisible(p2.file.path, ctx.viewHiddenFiles)).map((p2) => [
          p2.file.link,
          p2.file.tasks.length,
          p2.file.mtime,
          p2.file.size,
          p2.file.folder,
          ctx.viewHiddenFiles ? isFileVisible(p2.file.path) : ""
        ])
      );
    };
    window.helpPages = async (dv, args) => {
      dv.header(5, "Page management");
      dv.span("The following commands are available to manage pages:");
      dv.span("- **`viewPagesRecent(dv, args)`** - Lists pages sorted by last modified date");
      dv.span("Use the following arguments to filter the pages displayed");
      dv.span(
        "- **`searchPath`** - Filter tasks by path\n	Examples:\n		`{searchPath: '.'}` searches just this page\n		`{searchPath: '\"path/to/folder\"'}` searches a folder and subfolders\n	Omitting the argument searches all pages"
      );
      dv.span(
        "- **`viewHiddenFiles`** - Include hidden files in the search\n	Directories and files starting with `_` are hidden\n	Use the argument to include them in the search\n	Examples:\n		`{viewHiddenFiles: true}`"
      );
    };
    window.viewTaskStages = async (dv, args) => {
      await tsks.update(this.settings, dv, args);
      let md = await dv.markdownTable(
        ["Stage", "Qty"],
        [
          ["Overdue", tsks.overdue.length],
          ["This week", tsks.thisWeek.length],
          ["Next week", tsks.nextWeek.length],
          ["Started", tsks.started.length],
          ["Backlog", tsks.notPrioritized.length],
          ["Completed", tsks.completed.length]
        ]
      );
      await dv.span(md);
    };
    window.viewTaskProgression = async (dv, args) => {
      await tsks.update(this.settings, dv, args);
      let md = await dv.markdownTable(
        ["In progress", "Backlog", "Completed", "Total"],
        [
          [
            tsks.overdue.length + tsks.thisWeek.length + tsks.nextWeek.length + tsks.started.length,
            tsks.notPrioritized.length,
            tsks.completed.length,
            tsks.overdue.length + tsks.thisWeek.length + tsks.nextWeek.length + tsks.started.length + tsks.notPrioritized.length + tsks.completed.length
          ]
        ]
      );
      await dv.span(md);
    };
    window.viewTasksPrioritized = async (dv, args) => {
      await tsks.update(this.settings, dv, args);
      await tsks.show(
        dv,
        "Overdue",
        tsks.overdue.sort((s) => s.due, "desc")
      );
      await tsks.show(
        dv,
        "This week",
        tsks.thisWeek.sort((s) => s.due, "asc")
      );
      await tsks.show(
        dv,
        "Next week",
        tsks.nextWeek.sort((s) => s.due, "asc")
      );
      await tsks.show(
        dv,
        "In progress",
        tsks.started.sort((s) => s.start, "asc")
      );
      await tsks.show(
        dv,
        "Completed recently",
        tsks.completed.where((w) => w.completion >= ctx.so4wa).sort((s) => s.completion, "asc")
      );
      await tsks.show(
        dv,
        "Cancelled",
        tsks.notPrioritized.where((w) => w.viewStatus == "-")
      );
    };
    window.viewTasksPlanning = async (dv, args) => {
      await tsks.update(this.settings, dv, args);
      await tsks.show(
        dv,
        "Prioritize",
        tsks.notPrioritized.where((t) => t.status == "!").sort((s) => s.due, "asc")
      );
      await tsks.show(
        dv,
        "Open questions",
        tsks.notPrioritized.where((t) => t.status == "?").sort((s) => s.due, "asc")
      );
      await tsks.show(
        dv,
        "Schedule",
        tsks.notPrioritized.where((t) => t.status == ">").sort((s) => s.due, "asc")
      );
      await tsks.show(
        dv,
        "Review",
        tsks.notPrioritized.where((t) => t.status == "R").sort((s) => s.due, "asc")
      );
      await tsks.show(
        dv,
        "Backlog",
        tsks.notPrioritized.where((t) => t.status == " ").sort((s) => s.due, "asc")
      );
    };
    window.viewTasksIdeation = async (dv, args) => {
      await tsks.update(this.settings, dv, args);
      await tsks.show(
        dv,
        "Ideas",
        tsks.notPrioritized.where((t) => t.status == "i").sort((s) => s.due, "asc")
      );
      await tsks.show(
        dv,
        "Bookmarks",
        tsks.notPrioritized.where((t) => t.status == "b").sort((s) => s.due, "asc")
      );
      await tsks.show(
        dv,
        "Pros",
        tsks.notPrioritized.where((t) => t.status == "p").sort((s) => s.due, "asc")
      );
      await tsks.show(
        dv,
        "Cons",
        tsks.notPrioritized.where((t) => t.status == "c").sort((s) => s.due, "asc")
      );
    };
    window.helpTasks = async (dv, args) => {
      dv.header(tsks.headerSize, "Task management");
      dv.span("###### The following commands are available to manage tasks");
      dv.span("- **`viewPagesRecent(dv, args)`** - Lists pages sorted by last modified date");
      dv.span("- **`viewTaskStages(dv, args)`** - Shows task stages and quantities");
      dv.span("- **`viewTaskProgression(dv, args)`** - Shows overall task progression");
      dv.span("- **`viewTasksPrioritized(dv, args)`** - Shows prioritized tasks by status");
      dv.span("- **`viewTasksPlanning(dv, args)`** - Shows tasks ready for planning");
      dv.span("- **`viewTasksIdeation(dv, args)`** - Shows tasks needing ideation");
      dv.span("Use the following arguments to filter the tasks");
      dv.span(
        "- **`searchPath`** - Filter tasks by path\n	Examples:\n		`{searchPath: '.'}` searches just this page\n		`{searchPath: '\"path/to/folder\"'}` searches a folder and subfolders\n	Omitting the argument searches all pages"
      );
      dv.span(
        "- **`viewHiddenFiles`** - Include hidden files in the search\n	Directories and files starting with `_` are hidden\n	Use the argument to include them in the search\n	Examples:\n		`{viewHiddenFiles: true}`"
      );
      dv.span("###### Task notations");
      dv.span("**Task status**");
      dv.span("- [ ] to-do [ ]");
      dv.span("- [/] in process [/]");
      dv.span("- [x] completed [x]");
      dv.span("- [-] cancelled [-]");
      dv.span("**Planning & organization**");
      dv.span("- [!] priority [!]");
      dv.span("- [?] question [?]");
      dv.span("- [>] schedule [>]");
      dv.span("- [R] review [R]");
      dv.span("**Ideation & reference**");
      dv.span("- [i] idea [i]");
      dv.span("- [b] bookmark [b]");
      dv.span("- [p] pro [p]");
      dv.span("- [c] con [c]");
    };
    window.viewTags = async (dv, args) => {
      tags.update(this.settings, dv, args);
    };
    window.viewTagsAIs = async (dv, args) => {
      tags.update(this.settings, dv, args);
      tags.view(
        dv,
        "Action items",
        tags.all.where((w) => w.tags.startsWith("#ai/"))
      );
    };
    window.viewTagsApps = async (dv, args) => {
      tags.update(this.settings, dv, args);
      tags.view(
        dv,
        "Applications",
        tags.all.where((w) => w.tags.startsWith("#ap/"))
      );
    };
    window.viewTagsDiscussions = async (dv, args) => {
      tags.update(this.settings, dv, args);
      tags.view(
        dv,
        "Discussions",
        tags.all.where((w) => w.tags.startsWith("#d/"))
      );
    };
    window.viewTagsProjects = async (dv, args) => {
      tags.update(this.settings, dv, args);
      tags.view(
        dv,
        "Projects",
        tags.all.where((w) => w.tags.startsWith("#p/"))
      );
    };
    window.helpTags = async (dv, args) => {
      dv.header(tsks.headerSize, "Tag management");
      dv.span("The following commands are available to manage tags:");
      dv.span("- **`viewTags(dv, args)`** - Lists tags sorted in alphabetical order");
      dv.span("Use the following arguments to filter the tags");
      dv.span(
        "- **`searchTags`** - Filter tags by starting text\n	Examples:\n		`{searchTags: '#Proj1'}` - displays tags starting with #Proj1\n		`{searchTags: ''}` - displays all tags\n		`{searchTags: ['#Proj1', '#Proj2']}` - arrays may be used for a list of tags\n	Omitting the argument displays all tags"
      );
      dv.span(
        "- **`viewListItems`** - Include tags in list items/bullets	By default, only tags in tasks are displayed.\n	Tags in list items are not included in the search\n	Use the argument to include them in the search\n	Example:\n		`{viewListItems: true}`"
      );
      dv.span(
        "- **`searchPath`** - Filter tasks by path\n	Examples:\n		`{searchPath: '.'}` searches just this page\n		`{searchPath: '\"path/to/folder\"'}` searches a folder and subfolders\n	Omitting the argument searches all pages"
      );
      dv.span(
        "- **`viewHiddenFiles`** - Include hidden files in the search\n	Directories and files starting with `_` are hidden\n	Use the argument to include them in the search\n	Example:\n		`{viewHiddenFiles: true}`"
      );
    };
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  // observer: MutationObserver | null = null;
  // makeHeadersSticky() {
  //    console.log("oBro: makeHeadersSticky");
  //    // Get all headers in the document
  //    const headers = document.querySelectorAll("h1, h2, h3");
  //    console.log(headers);
  //    headers.forEach(header => {
  //       // Make header sticky
  //       header.style.position = "sticky";
  //       header.style.top = "0";
  //       header.style.zIndex = "1000";
  //       header.style.backgroundColor = "white"; // Change as per your theme
  //    });
  // }
};
var oBroSettingsTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    this.containerEl.empty();
    this.containerEl.createEl("h3", {
      text: "Modify oBro default settings. Does not change passed parameters."
    });
    new import_obsidian.Setting(this.containerEl).setName("Search pages").setHeading();
    new import_obsidian.Setting(this.containerEl).setName("Search path").setDesc("Enter a path relative to the vault or '.' for the current page only.").addText(
      (text) => text.setPlaceholder("Enter the path or leave blank for all.").setValue(this.plugin.settings.searchPath).onChange(async (value) => {
        this.plugin.settings.searchPath = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(this.containerEl).setName("View hidden pages").setDesc(
      "Include pages and subdirectories starting with '_'. These are usually hidden from view."
    ).addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.viewHiddenFiles).onChange(async (value) => {
        this.plugin.settings.viewHiddenFiles = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(this.containerEl).setName("Search tags").setHeading();
    new import_obsidian.Setting(this.containerEl).setName("Search tag").setDesc("Search for tasks starting with the tag. Leave blank for all tags.").addText(
      (text) => text.setPlaceholder("Enter the tag or leave blank for all.").setValue(this.plugin.settings.searchTags).onChange(async (value) => {
        this.plugin.settings.searchTags = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(this.containerEl).setName("View list").setDesc("Include bullets (list items) in the search. These are usually hidden from view.").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.viewListItems).onChange(async (value) => {
        this.plugin.settings.viewListItems = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(this.containerEl).setName("Task formatting").setHeading();
    new import_obsidian.Setting(this.containerEl).setName("Header size").setDesc("Enter a size from 1 - 6.").addText(
      (text) => text.setPlaceholder("5").setValue("" + this.plugin.settings.taskHeaderSize).onChange(async (value) => {
        let parsed = parseInt(value);
        if (isNaN(parsed))
          return;
        if (parsed < 1 || parsed > 6)
          return;
        this.plugin.settings.taskHeaderSize = parsed;
        await this.plugin.saveSettings();
        tsks.headerSize = parsed;
      })
    );
  }
};
function isFileVisible(f, viewHiddenFiles) {
  try {
    if (viewHiddenFiles)
      return true;
    const pathParts = f.split("/");
    let i = pathParts.length - 1;
    while (i >= 0) {
      if (pathParts[i].startsWith("_"))
        return false;
      --i;
    }
    return true;
  } catch (err) {
    console.error("Error: ", err.message);
    return false;
  }
}
var ctx = {
  today: {},
  sow: {},
  eow: {},
  eonw: {},
  so4wa: {},
  searchTags: null,
  viewListItems: null,
  searchPath: null,
  viewHiddenFiles: null,
  headerSize: {},
  // add param to override today
  updateDates(dv) {
    const { DateTime } = dv.luxon;
    this.today = dv.date("today");
    this.sow = this.today.plus({ days: -(this.today.weekday % 7) });
    this.eow = this.sow.plus({ days: 7, milliseconds: -1 });
    this.eonw = this.eow.plus({ days: 7 });
    this.so4wa = this.sow.plus({ days: -28 });
  },
  updateCriteria(settings, dv, args) {
    this.searchTags = settings.searchTags;
    this.viewListItems = settings.viewListItems;
    this.searchPath = settings.searchPath;
    this.viewHiddenFiles = settings.viewHiddenFiles;
    this.headerSize = settings.taskHeaderSize;
    if (args) {
      if (args.searchTags)
        this.searchTags = args.searchTags;
      if (args.viewListItems)
        this.viewListItems = args.viewListItems;
      if (args.searchPath)
        this.searchPath = args.searchPath;
      if (args.viewHiddenFiles)
        this.viewHiddenFiles = args.viewHiddenFiles;
    }
  },
  getContext(settings, dv, args) {
    this.updateDates(dv);
    this.updateCriteria(settings, dv, args);
  }
};
var tsks = {
  getAllTs: 0,
  sortTs: 0,
  all: [],
  overdue: [],
  thisWeek: [],
  nextWeek: [],
  started: [],
  notPrioritized: [],
  completed: [],
  headerSize: 5,
  async getAll(dv, args) {
    this.all = [];
    this.getAllTs = null;
    try {
      if (ctx.searchPath == "." || ctx.searchPath == '"."')
        this.all = await dv.current().file.tasks;
      else
        this.all = await dv.pages(ctx.searchPath).where((p) => isFileVisible(p.file.path, ctx.viewHiddenFiles)).file.tasks;
      this.getAllTs = Date.now();
    } catch (err) {
      console.error("oBro: tsks.getAll fail: ", err.message, ctx.searchPath);
    }
    return;
  },
  async sort(dv) {
    this.overdue = [];
    this.thisWeek = [];
    this.nextWeek = [];
    this.started = [];
    this.notPrioritized = [];
    this.completed = [];
    this.sortTs = null;
    try {
      for (let t of this.all) {
        if (t.completed) {
          if (ctx.so4wa <= t.completion)
            this.completed.push(t);
        } else if (!t.due) {
          if (t.start && t.start <= ctx.today)
            this.started.push(t);
          else {
            this.notPrioritized.push(t);
          }
        } else if (t.due && t.due < ctx.today)
          this.overdue.push(t);
        else if (ctx.sow <= t.due && t.due <= ctx.eow)
          this.thisWeek.push(t);
        else if (ctx.eow < t.due && t.due <= ctx.eonw)
          this.nextWeek.push(t);
        else if (t.start && t.start <= ctx.today)
          this.started.push(t);
      }
      this.overdue = dv.array(this.overdue);
      this.thisWeek = dv.array(this.thisWeek);
      this.nextWeek = dv.array(this.nextWeek);
      this.started = dv.array(this.started);
      this.notPrioritized = dv.array(this.notPrioritized);
      this.completed = dv.array(this.completed);
      this.sortTs = Date.now();
    } catch (err) {
      console.error("oBro: tsks.sort fail: ", err.message);
    }
    statusBar.children[0].setText(
      `Overdue: ${this.overdue.length}  This week: ${this.thisWeek.length}`
    );
    return;
  },
  async update(settings, dv, args) {
    tsks.headerSize = settings.taskHeaderSize;
    ctx.getContext(settings, dv, args);
    await this.getAll(dv, args);
    await this.sort(dv);
  },
  async show(dv, title, tasks) {
    if (!tasks || !tasks.length)
      return;
    await dv.header(this.headerSize, title + " (" + tasks.length + ")");
    await dv.taskList(tasks, false);
  }
};
var tags = {
  all: [],
  unique: [],
  tagTs: 0,
  headerSize: 5,
  async getAll(dv, args) {
    this.all = [];
    this.tagTs = null;
    try {
      if (ctx.searchPath == '"."' || ctx.searchPath == ".")
        this.all = await dv.current().file.lists.where((t) => t.tags.length > 0);
      else
        this.all = await dv.pages(ctx.searchPath).where((p) => isFileVisible(p.file.path, ctx.viewHiddenFiles)).file.lists.where((t) => t.tags.length > 0);
      this.tagTs = Date.now();
    } catch (err) {
      console.error("oBro: tags.getAll fail: ", err.message);
    }
  },
  async update(settings, dv, args) {
    ctx.getContext(settings, dv, args);
    await this.getAll(dv, args);
    await tags.view(dv, ctx.searchTags);
  },
  async view(dv, search) {
    let uniqueTags = Array.from(new Set(this.all.tags)).sort();
    let filteredTags = [];
    if (!search || search == "")
      filteredTags = uniqueTags;
    else {
      let filter = Array.isArray(search) ? search : [search];
      filteredTags = uniqueTags.filter((t) => filter.includes(t));
    }
    for (let t of filteredTags) {
      await this.viewTag(
        dv,
        t,
        this.all.where(
          (w) => w.tags.includes(t) && (w.task || ctx.viewListItems) && w.status != "x" && w.status != "-"
        )
      );
    }
  },
  async viewTag(dv, title, tag) {
    if (!tag || !tag.length)
      return;
    await dv.header(this.headerSize, title + " (" + tag.length + ")");
    await dv.taskList(tag, false);
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiXCJ1c2Ugc3RyaWN0O1wiXHJcblxyXG5pbXBvcnQgeyBjcmVhdGUgfSBmcm9tIFwiZG9tYWluXCJcclxuaW1wb3J0IHtcclxuICAgQXBwLFxyXG4gICBFZGl0b3IsXHJcbiAgIE1hcmtkb3duVmlldyxcclxuICAgTW9kYWwsXHJcbiAgIE5vdGljZSxcclxuICAgUGx1Z2luLFxyXG4gICBQbHVnaW5TZXR0aW5nVGFiLFxyXG4gICBTZXR0aW5nLFxyXG59IGZyb20gXCJvYnNpZGlhblwiXHJcbmltcG9ydCB7IGdldEFQSSwgRGF0YXZpZXdBcGkgfSBmcm9tIFwib2JzaWRpYW4tZGF0YXZpZXdcIlxyXG5cclxuaW50ZXJmYWNlIG9Ccm9TZXR0aW5ncyB7XHJcbiAgIHNlYXJjaFRhZ3M6IHN0cmluZ1xyXG4gICB2aWV3TGlzdEl0ZW1zOiBib29sZWFuXHJcbiAgIHNlYXJjaFBhdGg6IHN0cmluZ1xyXG4gICB2aWV3SGlkZGVuRmlsZXM6IGJvb2xlYW5cclxuICAgdGFza0hlYWRlclNpemU6IG51bWJlclxyXG59XHJcblxyXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBvQnJvU2V0dGluZ3MgPSB7XHJcbiAgIHNlYXJjaFRhZ3M6IFwiXCIsXHJcbiAgIHZpZXdMaXN0SXRlbXM6IGZhbHNlLFxyXG4gICBzZWFyY2hQYXRoOiBcIlwiLFxyXG4gICB2aWV3SGlkZGVuRmlsZXM6IGZhbHNlLFxyXG4gICB0YXNrSGVhZGVyU2l6ZTogNSxcclxufVxyXG5cclxubGV0IHN0YXR1c0JhcjogSFRNTEVsZW1lbnRcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIG9Ccm8gZXh0ZW5kcyBQbHVnaW4ge1xyXG4gICBzZXR0aW5nczogb0Jyb1NldHRpbmdzXHJcblxyXG4gICBhc3luYyBvbmxvYWQoKSB7XHJcbiAgICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKClcclxuXHJcbiAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5vbkxheW91dFJlYWR5KCgpID0+IHtcclxuICAgICAgICAgaWYgKCF0aGlzLmFwcC5wbHVnaW5zLnBsdWdpbnNbXCJkYXRhdmlld1wiXSkge1xyXG4gICAgICAgICAgICBuZXcgTm90aWNlKFxyXG4gICAgICAgICAgICAgICBcIm9Ccm8gcmVxdWlyZXMgdGhlIERhdGFWaWV3IHBsdWdpbi4gUGxlYXNlIGVuYWJsZSB0aGUgRGF0YVZpZXcgcGx1Z2luIGFuZCByZWxvYWQgT2JzaWRpYW4uXCJcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgfVxyXG5cclxuICAgICAgICAgLy8gY29uc29sZS5sb2coYG9Ccm8gJHt0aGlzLm1hbmlmZXN0LnZlcnNpb259OiBEYXRhVmlldyBwbHVnaW4gaXMgcmVhZHkuYClcclxuXHJcbiAgICAgICAgIHRoaXMuYWRkUmliYm9uSWNvbihcIndheXBvaW50c1wiLCBcIm9Ccm9cIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBuZXcgTm90aWNlKFwib0JybydzIHJlYWR5IVwiKVxyXG4gICAgICAgICB9KVxyXG5cclxuICAgICAgICAgc3RhdHVzQmFyID0gdGhpcy5hZGRTdGF0dXNCYXJJdGVtKClcclxuXHJcbiAgICAgICAgIC8vIC8vIHJlZ2lzdGVyIGRhdGF2aWV3IGNvbW1hbmRcclxuICAgICAgICAgLy8gdGhpcy5hZGRDb21tYW5kKHtcclxuICAgICAgICAgLy8gICAgIGlkOiAndmlldy1wYWdlcy1yZWNlbnQnLFxyXG4gICAgICAgICAvLyAgICAgbmFtZTogJ1ZpZXcgUGFnZXMgUmVjZW50JyxcclxuICAgICAgICAgLy8gICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgIC8vICAgICAgICAgdGhpcy5hcHAuY29tbWFuZHMuZXhlY3V0ZUNvbW1hbmQoXCJkYXRhdmlldzpydW4tcXVlcnlcIiwgeyBxdWVyeTogXCJ2aWV3UGFnZXNSZWNlbnRcIiB9KTtcclxuICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgLy8gfSk7XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICB0aGlzLmFkZFNldHRpbmdUYWIobmV3IG9Ccm9TZXR0aW5nc1RhYih0aGlzLmFwcCwgdGhpcykpXHJcblxyXG4gICAgICB3aW5kb3cudmlld1BhZ2VzUmVjZW50ID0gYXN5bmMgKGR2LCBhcmdzKSA9PiB7XHJcbiAgICAgICAgIC8vIFRPRE86IHVwZGF0ZSB0byB1c2UgZ2xvYmFsIGR2IGluc3RlYWQgb2YgcGFzc2VkLiBOZWVkIHRvIHVuZGVyc3RhbmQgd2h5IGNyZWF0ZUVsIGVycm9ycyBhcHBlYXJcclxuXHJcbiAgICAgICAgIC8vIGxldCBkdiA9IHdpbmRvdy5hcHAucGx1Z2lucy5wbHVnaW5zLmRhdGF2aWV3LmFwaTtcclxuICAgICAgICAgLy8gbGV0IGR2MiA9IGdldEFQSSh3aW5kb3cuYXBwKTtcclxuICAgICAgICAgLy8gY29uc29sZS5sb2coXCJkdjogXCIsIGR2LCBkdjIpO1xyXG5cclxuICAgICAgICAgY3R4LmdldENvbnRleHQodGhpcy5zZXR0aW5ncywgZHYsIGFyZ3MpXHJcbiAgICAgICAgIC8vIHN1cHByZXNzIHRoaXMgcGFnZSBvbmx5LCBpdCBpcyBub3QgYSB2YWxpZCByZXBvcnRcclxuICAgICAgICAgaWYgKGN0eC5zZWFyY2hQYXRoID09IFwiLlwiKSBjdHguc2VhcmNoUGF0aCA9IFwiXCJcclxuICAgICAgICAgbGV0IHAgPSBhd2FpdCBkdlxyXG4gICAgICAgICAgICAucGFnZXMoY3R4LnNlYXJjaFBhdGggPT0gXCIuXCIgPyBcIlwiIDogY3R4LnNlYXJjaFBhdGgpXHJcbiAgICAgICAgICAgIC5zb3J0KHQgPT4gLXQuZmlsZS5tdGltZS50cylcclxuICAgICAgICAgYXdhaXQgZHYudGFibGUoXHJcbiAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgXCJGaWxlXCIsXHJcbiAgICAgICAgICAgICAgIFwiVGFza3NcIixcclxuICAgICAgICAgICAgICAgXCJMYXN0IE1vZGlmaWVkXCIsXHJcbiAgICAgICAgICAgICAgIFwiU2l6ZVwiLFxyXG4gICAgICAgICAgICAgICBcIkZvbGRlclwiLFxyXG4gICAgICAgICAgICAgICBjdHgudmlld0hpZGRlbkZpbGVzID8gXCJWaXNpYmxlXCIgOiBcIlwiLFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBwXHJcbiAgICAgICAgICAgICAgIC53aGVyZShwID0+IGlzRmlsZVZpc2libGUocC5maWxlLnBhdGgsIGN0eC52aWV3SGlkZGVuRmlsZXMpKVxyXG4gICAgICAgICAgICAgICAubWFwKHAgPT4gW1xyXG4gICAgICAgICAgICAgICAgICBwLmZpbGUubGluayxcclxuICAgICAgICAgICAgICAgICAgcC5maWxlLnRhc2tzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgcC5maWxlLm10aW1lLFxyXG4gICAgICAgICAgICAgICAgICBwLmZpbGUuc2l6ZSxcclxuICAgICAgICAgICAgICAgICAgcC5maWxlLmZvbGRlcixcclxuICAgICAgICAgICAgICAgICAgY3R4LnZpZXdIaWRkZW5GaWxlcyA/IGlzRmlsZVZpc2libGUocC5maWxlLnBhdGgpIDogXCJcIixcclxuICAgICAgICAgICAgICAgXSlcclxuICAgICAgICAgKVxyXG4gICAgICB9XHJcblxyXG4gICAgICB3aW5kb3cuaGVscFBhZ2VzID0gYXN5bmMgKGR2LCBhcmdzKSA9PiB7XHJcbiAgICAgICAgIGR2LmhlYWRlcig1LCBcIlBhZ2UgbWFuYWdlbWVudFwiKVxyXG4gICAgICAgICBkdi5zcGFuKFwiVGhlIGZvbGxvd2luZyBjb21tYW5kcyBhcmUgYXZhaWxhYmxlIHRvIG1hbmFnZSBwYWdlczpcIilcclxuICAgICAgICAgZHYuc3BhbihcIi0gKipgdmlld1BhZ2VzUmVjZW50KGR2LCBhcmdzKWAqKiAtIExpc3RzIHBhZ2VzIHNvcnRlZCBieSBsYXN0IG1vZGlmaWVkIGRhdGVcIilcclxuXHJcbiAgICAgICAgIGR2LnNwYW4oXCJVc2UgdGhlIGZvbGxvd2luZyBhcmd1bWVudHMgdG8gZmlsdGVyIHRoZSBwYWdlcyBkaXNwbGF5ZWRcIilcclxuICAgICAgICAgZHYuc3BhbihcclxuICAgICAgICAgICAgXCItICoqYHNlYXJjaFBhdGhgKiogLSBGaWx0ZXIgdGFza3MgYnkgcGF0aFxcblwiICtcclxuICAgICAgICAgICAgICAgXCJcXHRFeGFtcGxlczpcXG5cIiArXHJcbiAgICAgICAgICAgICAgIFwiXFx0XFx0YHtzZWFyY2hQYXRoOiAnLid9YCBzZWFyY2hlcyBqdXN0IHRoaXMgcGFnZVxcblwiICtcclxuICAgICAgICAgICAgICAgXCJcXHRcXHRge3NlYXJjaFBhdGg6ICdcXFwicGF0aC90by9mb2xkZXJcXFwiJ31gIHNlYXJjaGVzIGEgZm9sZGVyIGFuZCBzdWJmb2xkZXJzXFxuXCIgK1xyXG4gICAgICAgICAgICAgICBcIlxcdE9taXR0aW5nIHRoZSBhcmd1bWVudCBzZWFyY2hlcyBhbGwgcGFnZXNcIlxyXG4gICAgICAgICApXHJcbiAgICAgICAgIGR2LnNwYW4oXHJcbiAgICAgICAgICAgIFwiLSAqKmB2aWV3SGlkZGVuRmlsZXNgKiogLSBJbmNsdWRlIGhpZGRlbiBmaWxlcyBpbiB0aGUgc2VhcmNoXFxuXCIgK1xyXG4gICAgICAgICAgICAgICBcIlxcdERpcmVjdG9yaWVzIGFuZCBmaWxlcyBzdGFydGluZyB3aXRoIGBfYCBhcmUgaGlkZGVuXFxuXCIgK1xyXG4gICAgICAgICAgICAgICBcIlxcdFVzZSB0aGUgYXJndW1lbnQgdG8gaW5jbHVkZSB0aGVtIGluIHRoZSBzZWFyY2hcXG5cIiArXHJcbiAgICAgICAgICAgICAgIFwiXFx0RXhhbXBsZXM6XFxuXCIgK1xyXG4gICAgICAgICAgICAgICBcIlxcdFxcdGB7dmlld0hpZGRlbkZpbGVzOiB0cnVlfWBcIlxyXG4gICAgICAgICApXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHdpbmRvdy52aWV3VGFza1N0YWdlcyA9IGFzeW5jIChkdiwgYXJncykgPT4ge1xyXG4gICAgICAgICBhd2FpdCB0c2tzLnVwZGF0ZSh0aGlzLnNldHRpbmdzLCBkdiwgYXJncylcclxuICAgICAgICAgbGV0IG1kID0gYXdhaXQgZHYubWFya2Rvd25UYWJsZShcclxuICAgICAgICAgICAgW1wiU3RhZ2VcIiwgXCJRdHlcIl0sXHJcbiAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgW1wiT3ZlcmR1ZVwiLCB0c2tzLm92ZXJkdWUubGVuZ3RoXSxcclxuICAgICAgICAgICAgICAgW1wiVGhpcyB3ZWVrXCIsIHRza3MudGhpc1dlZWsubGVuZ3RoXSxcclxuICAgICAgICAgICAgICAgW1wiTmV4dCB3ZWVrXCIsIHRza3MubmV4dFdlZWsubGVuZ3RoXSxcclxuICAgICAgICAgICAgICAgW1wiU3RhcnRlZFwiLCB0c2tzLnN0YXJ0ZWQubGVuZ3RoXSxcclxuICAgICAgICAgICAgICAgW1wiQmFja2xvZ1wiLCB0c2tzLm5vdFByaW9yaXRpemVkLmxlbmd0aF0sXHJcbiAgICAgICAgICAgICAgIFtcIkNvbXBsZXRlZFwiLCB0c2tzLmNvbXBsZXRlZC5sZW5ndGhdLFxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgIClcclxuICAgICAgICAgYXdhaXQgZHYuc3BhbihtZClcclxuICAgICAgfVxyXG5cclxuICAgICAgd2luZG93LnZpZXdUYXNrUHJvZ3Jlc3Npb24gPSBhc3luYyAoZHYsIGFyZ3MpID0+IHtcclxuICAgICAgICAgYXdhaXQgdHNrcy51cGRhdGUodGhpcy5zZXR0aW5ncywgZHYsIGFyZ3MpXHJcbiAgICAgICAgIGxldCBtZCA9IGF3YWl0IGR2Lm1hcmtkb3duVGFibGUoXHJcbiAgICAgICAgICAgIFtcIkluIHByb2dyZXNzXCIsIFwiQmFja2xvZ1wiLCBcIkNvbXBsZXRlZFwiLCBcIlRvdGFsXCJdLFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgICAgdHNrcy5vdmVyZHVlLmxlbmd0aCArXHJcbiAgICAgICAgICAgICAgICAgICAgIHRza3MudGhpc1dlZWsubGVuZ3RoICtcclxuICAgICAgICAgICAgICAgICAgICAgdHNrcy5uZXh0V2Vlay5sZW5ndGggK1xyXG4gICAgICAgICAgICAgICAgICAgICB0c2tzLnN0YXJ0ZWQubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICB0c2tzLm5vdFByaW9yaXRpemVkLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgdHNrcy5jb21wbGV0ZWQubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICB0c2tzLm92ZXJkdWUubGVuZ3RoICtcclxuICAgICAgICAgICAgICAgICAgICAgdHNrcy50aGlzV2Vlay5sZW5ndGggK1xyXG4gICAgICAgICAgICAgICAgICAgICB0c2tzLm5leHRXZWVrLmxlbmd0aCArXHJcbiAgICAgICAgICAgICAgICAgICAgIHRza3Muc3RhcnRlZC5sZW5ndGggK1xyXG4gICAgICAgICAgICAgICAgICAgICB0c2tzLm5vdFByaW9yaXRpemVkLmxlbmd0aCArXHJcbiAgICAgICAgICAgICAgICAgICAgIHRza3MuY29tcGxldGVkLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICApXHJcbiAgICAgICAgIGF3YWl0IGR2LnNwYW4obWQpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHdpbmRvdy52aWV3VGFza3NQcmlvcml0aXplZCA9IGFzeW5jIChkdiwgYXJncykgPT4ge1xyXG4gICAgICAgICBhd2FpdCB0c2tzLnVwZGF0ZSh0aGlzLnNldHRpbmdzLCBkdiwgYXJncylcclxuICAgICAgICAgYXdhaXQgdHNrcy5zaG93KFxyXG4gICAgICAgICAgICBkdixcclxuICAgICAgICAgICAgXCJPdmVyZHVlXCIsXHJcbiAgICAgICAgICAgIHRza3Mub3ZlcmR1ZS5zb3J0KHMgPT4gcy5kdWUsIFwiZGVzY1wiKVxyXG4gICAgICAgICApXHJcbiAgICAgICAgIGF3YWl0IHRza3Muc2hvdyhcclxuICAgICAgICAgICAgZHYsXHJcbiAgICAgICAgICAgIFwiVGhpcyB3ZWVrXCIsXHJcbiAgICAgICAgICAgIHRza3MudGhpc1dlZWsuc29ydChzID0+IHMuZHVlLCBcImFzY1wiKVxyXG4gICAgICAgICApXHJcbiAgICAgICAgIGF3YWl0IHRza3Muc2hvdyhcclxuICAgICAgICAgICAgZHYsXHJcbiAgICAgICAgICAgIFwiTmV4dCB3ZWVrXCIsXHJcbiAgICAgICAgICAgIHRza3MubmV4dFdlZWsuc29ydChzID0+IHMuZHVlLCBcImFzY1wiKVxyXG4gICAgICAgICApXHJcbiAgICAgICAgIGF3YWl0IHRza3Muc2hvdyhcclxuICAgICAgICAgICAgZHYsXHJcbiAgICAgICAgICAgIFwiSW4gcHJvZ3Jlc3NcIixcclxuICAgICAgICAgICAgdHNrcy5zdGFydGVkLnNvcnQocyA9PiBzLnN0YXJ0LCBcImFzY1wiKVxyXG4gICAgICAgICApXHJcbiAgICAgICAgIGF3YWl0IHRza3Muc2hvdyhcclxuICAgICAgICAgICAgZHYsXHJcbiAgICAgICAgICAgIFwiQ29tcGxldGVkIHJlY2VudGx5XCIsXHJcbiAgICAgICAgICAgIHRza3MuY29tcGxldGVkLndoZXJlKHcgPT4gdy5jb21wbGV0aW9uID49IGN0eC5zbzR3YSkuc29ydChzID0+IHMuY29tcGxldGlvbiwgXCJhc2NcIilcclxuICAgICAgICAgKVxyXG4gICAgICAgICBhd2FpdCB0c2tzLnNob3coXHJcbiAgICAgICAgICAgIGR2LFxyXG4gICAgICAgICAgICBcIkNhbmNlbGxlZFwiLFxyXG4gICAgICAgICAgICB0c2tzLm5vdFByaW9yaXRpemVkLndoZXJlKHcgPT4gdy52aWV3U3RhdHVzID09IFwiLVwiKVxyXG4gICAgICAgICApXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHdpbmRvdy52aWV3VGFza3NQbGFubmluZyA9IGFzeW5jIChkdiwgYXJncykgPT4ge1xyXG4gICAgICAgICBhd2FpdCB0c2tzLnVwZGF0ZSh0aGlzLnNldHRpbmdzLCBkdiwgYXJncylcclxuICAgICAgICAgYXdhaXQgdHNrcy5zaG93KFxyXG4gICAgICAgICAgICBkdixcclxuICAgICAgICAgICAgXCJQcmlvcml0aXplXCIsXHJcbiAgICAgICAgICAgIHRza3Mubm90UHJpb3JpdGl6ZWQud2hlcmUodCA9PiB0LnN0YXR1cyA9PSBcIiFcIikuc29ydChzID0+IHMuZHVlLCBcImFzY1wiKVxyXG4gICAgICAgICApXHJcbiAgICAgICAgIGF3YWl0IHRza3Muc2hvdyhcclxuICAgICAgICAgICAgZHYsXHJcbiAgICAgICAgICAgIFwiT3BlbiBxdWVzdGlvbnNcIixcclxuICAgICAgICAgICAgdHNrcy5ub3RQcmlvcml0aXplZC53aGVyZSh0ID0+IHQuc3RhdHVzID09IFwiP1wiKS5zb3J0KHMgPT4gcy5kdWUsIFwiYXNjXCIpXHJcbiAgICAgICAgIClcclxuICAgICAgICAgYXdhaXQgdHNrcy5zaG93KFxyXG4gICAgICAgICAgICBkdixcclxuICAgICAgICAgICAgXCJTY2hlZHVsZVwiLFxyXG4gICAgICAgICAgICB0c2tzLm5vdFByaW9yaXRpemVkLndoZXJlKHQgPT4gdC5zdGF0dXMgPT0gXCI+XCIpLnNvcnQocyA9PiBzLmR1ZSwgXCJhc2NcIilcclxuICAgICAgICAgKVxyXG4gICAgICAgICBhd2FpdCB0c2tzLnNob3coXHJcbiAgICAgICAgICAgIGR2LFxyXG4gICAgICAgICAgICBcIlJldmlld1wiLFxyXG4gICAgICAgICAgICB0c2tzLm5vdFByaW9yaXRpemVkLndoZXJlKHQgPT4gdC5zdGF0dXMgPT0gXCJSXCIpLnNvcnQocyA9PiBzLmR1ZSwgXCJhc2NcIilcclxuICAgICAgICAgKVxyXG4gICAgICAgICBhd2FpdCB0c2tzLnNob3coXHJcbiAgICAgICAgICAgIGR2LFxyXG4gICAgICAgICAgICBcIkJhY2tsb2dcIixcclxuICAgICAgICAgICAgdHNrcy5ub3RQcmlvcml0aXplZC53aGVyZSh0ID0+IHQuc3RhdHVzID09IFwiIFwiKS5zb3J0KHMgPT4gcy5kdWUsIFwiYXNjXCIpXHJcbiAgICAgICAgIClcclxuICAgICAgfVxyXG5cclxuICAgICAgd2luZG93LnZpZXdUYXNrc0lkZWF0aW9uID0gYXN5bmMgKGR2LCBhcmdzKSA9PiB7XHJcbiAgICAgICAgIGF3YWl0IHRza3MudXBkYXRlKHRoaXMuc2V0dGluZ3MsIGR2LCBhcmdzKVxyXG4gICAgICAgICBhd2FpdCB0c2tzLnNob3coXHJcbiAgICAgICAgICAgIGR2LFxyXG4gICAgICAgICAgICBcIklkZWFzXCIsXHJcbiAgICAgICAgICAgIHRza3Mubm90UHJpb3JpdGl6ZWQud2hlcmUodCA9PiB0LnN0YXR1cyA9PSBcImlcIikuc29ydChzID0+IHMuZHVlLCBcImFzY1wiKVxyXG4gICAgICAgICApXHJcbiAgICAgICAgIGF3YWl0IHRza3Muc2hvdyhcclxuICAgICAgICAgICAgZHYsXHJcbiAgICAgICAgICAgIFwiQm9va21hcmtzXCIsXHJcbiAgICAgICAgICAgIHRza3Mubm90UHJpb3JpdGl6ZWQud2hlcmUodCA9PiB0LnN0YXR1cyA9PSBcImJcIikuc29ydChzID0+IHMuZHVlLCBcImFzY1wiKVxyXG4gICAgICAgICApXHJcbiAgICAgICAgIGF3YWl0IHRza3Muc2hvdyhcclxuICAgICAgICAgICAgZHYsXHJcbiAgICAgICAgICAgIFwiUHJvc1wiLFxyXG4gICAgICAgICAgICB0c2tzLm5vdFByaW9yaXRpemVkLndoZXJlKHQgPT4gdC5zdGF0dXMgPT0gXCJwXCIpLnNvcnQocyA9PiBzLmR1ZSwgXCJhc2NcIilcclxuICAgICAgICAgKVxyXG4gICAgICAgICBhd2FpdCB0c2tzLnNob3coXHJcbiAgICAgICAgICAgIGR2LFxyXG4gICAgICAgICAgICBcIkNvbnNcIixcclxuICAgICAgICAgICAgdHNrcy5ub3RQcmlvcml0aXplZC53aGVyZSh0ID0+IHQuc3RhdHVzID09IFwiY1wiKS5zb3J0KHMgPT4gcy5kdWUsIFwiYXNjXCIpXHJcbiAgICAgICAgIClcclxuICAgICAgfVxyXG5cclxuICAgICAgd2luZG93LmhlbHBUYXNrcyA9IGFzeW5jIChkdiwgYXJncykgPT4ge1xyXG4gICAgICAgICBkdi5oZWFkZXIodHNrcy5oZWFkZXJTaXplLCBcIlRhc2sgbWFuYWdlbWVudFwiKVxyXG4gICAgICAgICBkdi5zcGFuKFwiIyMjIyMjIFRoZSBmb2xsb3dpbmcgY29tbWFuZHMgYXJlIGF2YWlsYWJsZSB0byBtYW5hZ2UgdGFza3NcIilcclxuICAgICAgICAgZHYuc3BhbihcIi0gKipgdmlld1BhZ2VzUmVjZW50KGR2LCBhcmdzKWAqKiAtIExpc3RzIHBhZ2VzIHNvcnRlZCBieSBsYXN0IG1vZGlmaWVkIGRhdGVcIilcclxuICAgICAgICAgZHYuc3BhbihcIi0gKipgdmlld1Rhc2tTdGFnZXMoZHYsIGFyZ3MpYCoqIC0gU2hvd3MgdGFzayBzdGFnZXMgYW5kIHF1YW50aXRpZXNcIilcclxuICAgICAgICAgZHYuc3BhbihcIi0gKipgdmlld1Rhc2tQcm9ncmVzc2lvbihkdiwgYXJncylgKiogLSBTaG93cyBvdmVyYWxsIHRhc2sgcHJvZ3Jlc3Npb25cIilcclxuICAgICAgICAgZHYuc3BhbihcIi0gKipgdmlld1Rhc2tzUHJpb3JpdGl6ZWQoZHYsIGFyZ3MpYCoqIC0gU2hvd3MgcHJpb3JpdGl6ZWQgdGFza3MgYnkgc3RhdHVzXCIpXHJcbiAgICAgICAgIGR2LnNwYW4oXCItICoqYHZpZXdUYXNrc1BsYW5uaW5nKGR2LCBhcmdzKWAqKiAtIFNob3dzIHRhc2tzIHJlYWR5IGZvciBwbGFubmluZ1wiKVxyXG4gICAgICAgICBkdi5zcGFuKFwiLSAqKmB2aWV3VGFza3NJZGVhdGlvbihkdiwgYXJncylgKiogLSBTaG93cyB0YXNrcyBuZWVkaW5nIGlkZWF0aW9uXCIpXHJcblxyXG4gICAgICAgICBkdi5zcGFuKFwiVXNlIHRoZSBmb2xsb3dpbmcgYXJndW1lbnRzIHRvIGZpbHRlciB0aGUgdGFza3NcIilcclxuICAgICAgICAgZHYuc3BhbihcclxuICAgICAgICAgICAgXCItICoqYHNlYXJjaFBhdGhgKiogLSBGaWx0ZXIgdGFza3MgYnkgcGF0aFxcblwiICtcclxuICAgICAgICAgICAgICAgXCJcXHRFeGFtcGxlczpcXG5cIiArXHJcbiAgICAgICAgICAgICAgIFwiXFx0XFx0YHtzZWFyY2hQYXRoOiAnLid9YCBzZWFyY2hlcyBqdXN0IHRoaXMgcGFnZVxcblwiICtcclxuICAgICAgICAgICAgICAgXCJcXHRcXHRge3NlYXJjaFBhdGg6ICdcXFwicGF0aC90by9mb2xkZXJcXFwiJ31gIHNlYXJjaGVzIGEgZm9sZGVyIGFuZCBzdWJmb2xkZXJzXFxuXCIgK1xyXG4gICAgICAgICAgICAgICBcIlxcdE9taXR0aW5nIHRoZSBhcmd1bWVudCBzZWFyY2hlcyBhbGwgcGFnZXNcIlxyXG4gICAgICAgICApXHJcbiAgICAgICAgIGR2LnNwYW4oXHJcbiAgICAgICAgICAgIFwiLSAqKmB2aWV3SGlkZGVuRmlsZXNgKiogLSBJbmNsdWRlIGhpZGRlbiBmaWxlcyBpbiB0aGUgc2VhcmNoXFxuXCIgK1xyXG4gICAgICAgICAgICAgICBcIlxcdERpcmVjdG9yaWVzIGFuZCBmaWxlcyBzdGFydGluZyB3aXRoIGBfYCBhcmUgaGlkZGVuXFxuXCIgK1xyXG4gICAgICAgICAgICAgICBcIlxcdFVzZSB0aGUgYXJndW1lbnQgdG8gaW5jbHVkZSB0aGVtIGluIHRoZSBzZWFyY2hcXG5cIiArXHJcbiAgICAgICAgICAgICAgIFwiXFx0RXhhbXBsZXM6XFxuXCIgK1xyXG4gICAgICAgICAgICAgICBcIlxcdFxcdGB7dmlld0hpZGRlbkZpbGVzOiB0cnVlfWBcIlxyXG4gICAgICAgICApXHJcblxyXG4gICAgICAgICBkdi5zcGFuKFwiIyMjIyMjIFRhc2sgbm90YXRpb25zXCIpXHJcbiAgICAgICAgIGR2LnNwYW4oXCIqKlRhc2sgc3RhdHVzKipcIilcclxuICAgICAgICAgZHYuc3BhbihcIi0gWyBdIHRvLWRvIFsgXVwiKVxyXG4gICAgICAgICBkdi5zcGFuKFwiLSBbL10gaW4gcHJvY2VzcyBbL11cIilcclxuICAgICAgICAgZHYuc3BhbihcIi0gW3hdIGNvbXBsZXRlZCBbeF1cIilcclxuICAgICAgICAgZHYuc3BhbihcIi0gWy1dIGNhbmNlbGxlZCBbLV1cIilcclxuXHJcbiAgICAgICAgIGR2LnNwYW4oXCIqKlBsYW5uaW5nICYgb3JnYW5pemF0aW9uKipcIilcclxuICAgICAgICAgZHYuc3BhbihcIi0gWyFdIHByaW9yaXR5IFshXVwiKVxyXG4gICAgICAgICBkdi5zcGFuKFwiLSBbP10gcXVlc3Rpb24gWz9dXCIpXHJcbiAgICAgICAgIGR2LnNwYW4oXCItIFs+XSBzY2hlZHVsZSBbPl1cIilcclxuICAgICAgICAgZHYuc3BhbihcIi0gW1JdIHJldmlldyBbUl1cIilcclxuXHJcbiAgICAgICAgIGR2LnNwYW4oXCIqKklkZWF0aW9uICYgcmVmZXJlbmNlKipcIilcclxuICAgICAgICAgZHYuc3BhbihcIi0gW2ldIGlkZWEgW2ldXCIpXHJcbiAgICAgICAgIGR2LnNwYW4oXCItIFtiXSBib29rbWFyayBbYl1cIilcclxuICAgICAgICAgZHYuc3BhbihcIi0gW3BdIHBybyBbcF1cIilcclxuICAgICAgICAgZHYuc3BhbihcIi0gW2NdIGNvbiBbY11cIilcclxuICAgICAgfVxyXG5cclxuICAgICAgd2luZG93LnZpZXdUYWdzID0gYXN5bmMgKGR2LCBhcmdzKSA9PiB7XHJcbiAgICAgICAgIHRhZ3MudXBkYXRlKHRoaXMuc2V0dGluZ3MsIGR2LCBhcmdzKVxyXG4gICAgICAgICAvLyBsZXQgbGlzdCA9IHRhZ3MuZmlsdGVyKGN0eC5zZWFyY2hUYWdzKTtcclxuICAgICAgICAgLy8gdGFncy52aWV3KGR2LCBcIlRhZ3NcIiwgbGlzdCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHdpbmRvdy52aWV3VGFnc0FJcyA9IGFzeW5jIChkdiwgYXJncykgPT4ge1xyXG4gICAgICAgICB0YWdzLnVwZGF0ZSh0aGlzLnNldHRpbmdzLCBkdiwgYXJncylcclxuICAgICAgICAgdGFncy52aWV3KFxyXG4gICAgICAgICAgICBkdixcclxuICAgICAgICAgICAgXCJBY3Rpb24gaXRlbXNcIixcclxuICAgICAgICAgICAgdGFncy5hbGwud2hlcmUodyA9PiB3LnRhZ3Muc3RhcnRzV2l0aChcIiNhaS9cIikpXHJcbiAgICAgICAgIClcclxuICAgICAgfVxyXG5cclxuICAgICAgd2luZG93LnZpZXdUYWdzQXBwcyA9IGFzeW5jIChkdiwgYXJncykgPT4ge1xyXG4gICAgICAgICB0YWdzLnVwZGF0ZSh0aGlzLnNldHRpbmdzLCBkdiwgYXJncylcclxuICAgICAgICAgdGFncy52aWV3KFxyXG4gICAgICAgICAgICBkdixcclxuICAgICAgICAgICAgXCJBcHBsaWNhdGlvbnNcIixcclxuICAgICAgICAgICAgdGFncy5hbGwud2hlcmUodyA9PiB3LnRhZ3Muc3RhcnRzV2l0aChcIiNhcC9cIikpXHJcbiAgICAgICAgIClcclxuICAgICAgfVxyXG5cclxuICAgICAgd2luZG93LnZpZXdUYWdzRGlzY3Vzc2lvbnMgPSBhc3luYyAoZHYsIGFyZ3MpID0+IHtcclxuICAgICAgICAgdGFncy51cGRhdGUodGhpcy5zZXR0aW5ncywgZHYsIGFyZ3MpXHJcbiAgICAgICAgIHRhZ3MudmlldyhcclxuICAgICAgICAgICAgZHYsXHJcbiAgICAgICAgICAgIFwiRGlzY3Vzc2lvbnNcIixcclxuICAgICAgICAgICAgdGFncy5hbGwud2hlcmUodyA9PiB3LnRhZ3Muc3RhcnRzV2l0aChcIiNkL1wiKSlcclxuICAgICAgICAgKVxyXG4gICAgICB9XHJcblxyXG4gICAgICB3aW5kb3cudmlld1RhZ3NQcm9qZWN0cyA9IGFzeW5jIChkdiwgYXJncykgPT4ge1xyXG4gICAgICAgICB0YWdzLnVwZGF0ZSh0aGlzLnNldHRpbmdzLCBkdiwgYXJncylcclxuICAgICAgICAgdGFncy52aWV3KFxyXG4gICAgICAgICAgICBkdixcclxuICAgICAgICAgICAgXCJQcm9qZWN0c1wiLFxyXG4gICAgICAgICAgICB0YWdzLmFsbC53aGVyZSh3ID0+IHcudGFncy5zdGFydHNXaXRoKFwiI3AvXCIpKVxyXG4gICAgICAgICApXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHdpbmRvdy5oZWxwVGFncyA9IGFzeW5jIChkdiwgYXJncykgPT4ge1xyXG4gICAgICAgICAvLyBjb25zb2xlLmxvZyhnZXRBUEkod2luZG93LmFwcCkucGFnZXMoKSk7XHJcbiAgICAgICAgIGR2LmhlYWRlcih0c2tzLmhlYWRlclNpemUsIFwiVGFnIG1hbmFnZW1lbnRcIilcclxuICAgICAgICAgZHYuc3BhbihcIlRoZSBmb2xsb3dpbmcgY29tbWFuZHMgYXJlIGF2YWlsYWJsZSB0byBtYW5hZ2UgdGFnczpcIilcclxuICAgICAgICAgZHYuc3BhbihcIi0gKipgdmlld1RhZ3MoZHYsIGFyZ3MpYCoqIC0gTGlzdHMgdGFncyBzb3J0ZWQgaW4gYWxwaGFiZXRpY2FsIG9yZGVyXCIpXHJcbiAgICAgICAgIC8vIGR2LnNwYW4oXCItICoqYHZpZXdUYWdzQUlzKGR2LCBhcmdzKWAqKiAtIExpc3RzIGFjdGlvbiBpdGVtc1wiKTtcclxuICAgICAgICAgLy8gZHYuc3BhbihcIi0gKipgdmlld1RhZ3NBcHBzKGR2LCBhcmdzKWAqKiAtIExpc3RzIGFwcGxpY2F0aW9uc1wiKTtcclxuICAgICAgICAgLy8gZHYuc3BhbihcIi0gKipgdmlld1RhZ3NEaXNjdXNzaW9ucyhkdiwgYXJncylgKiogLSBMaXN0cyBkaXNjdXNzaW9uc1wiKTtcclxuICAgICAgICAgLy8gZHYuc3BhbihcIi0gKipgdmlld1RhZ3NQcm9qZWN0cyhkdiwgYXJncylgKiogLSBMaXN0cyBwcm9qZWN0c1wiKTtcclxuXHJcbiAgICAgICAgIGR2LnNwYW4oXCJVc2UgdGhlIGZvbGxvd2luZyBhcmd1bWVudHMgdG8gZmlsdGVyIHRoZSB0YWdzXCIpXHJcbiAgICAgICAgIGR2LnNwYW4oXHJcbiAgICAgICAgICAgIFwiLSAqKmBzZWFyY2hUYWdzYCoqIC0gRmlsdGVyIHRhZ3MgYnkgc3RhcnRpbmcgdGV4dFxcblwiICtcclxuICAgICAgICAgICAgICAgXCJcXHRFeGFtcGxlczpcXG5cIiArXHJcbiAgICAgICAgICAgICAgIFwiXFx0XFx0YHtzZWFyY2hUYWdzOiAnI1Byb2oxJ31gIC0gZGlzcGxheXMgdGFncyBzdGFydGluZyB3aXRoICNQcm9qMVxcblwiICtcclxuICAgICAgICAgICAgICAgXCJcXHRcXHRge3NlYXJjaFRhZ3M6ICcnfWAgLSBkaXNwbGF5cyBhbGwgdGFnc1xcblwiICtcclxuICAgICAgICAgICAgICAgXCJcXHRcXHRge3NlYXJjaFRhZ3M6IFsnI1Byb2oxJywgJyNQcm9qMiddfWAgLSBhcnJheXMgbWF5IGJlIHVzZWQgZm9yIGEgbGlzdCBvZiB0YWdzXFxuXCIgK1xyXG4gICAgICAgICAgICAgICBcIlxcdE9taXR0aW5nIHRoZSBhcmd1bWVudCBkaXNwbGF5cyBhbGwgdGFnc1wiXHJcbiAgICAgICAgIClcclxuICAgICAgICAgZHYuc3BhbihcclxuICAgICAgICAgICAgXCItICoqYHZpZXdMaXN0SXRlbXNgKiogLSBJbmNsdWRlIHRhZ3MgaW4gbGlzdCBpdGVtcy9idWxsZXRzXCIgK1xyXG4gICAgICAgICAgICAgICBcIlxcdEJ5IGRlZmF1bHQsIG9ubHkgdGFncyBpbiB0YXNrcyBhcmUgZGlzcGxheWVkLlxcblwiICtcclxuICAgICAgICAgICAgICAgXCJcXHRUYWdzIGluIGxpc3QgaXRlbXMgYXJlIG5vdCBpbmNsdWRlZCBpbiB0aGUgc2VhcmNoXFxuXCIgK1xyXG4gICAgICAgICAgICAgICBcIlxcdFVzZSB0aGUgYXJndW1lbnQgdG8gaW5jbHVkZSB0aGVtIGluIHRoZSBzZWFyY2hcXG5cIiArXHJcbiAgICAgICAgICAgICAgIFwiXFx0RXhhbXBsZTpcXG5cIiArXHJcbiAgICAgICAgICAgICAgIFwiXFx0XFx0YHt2aWV3TGlzdEl0ZW1zOiB0cnVlfWBcIlxyXG4gICAgICAgICApXHJcbiAgICAgICAgIGR2LnNwYW4oXHJcbiAgICAgICAgICAgIFwiLSAqKmBzZWFyY2hQYXRoYCoqIC0gRmlsdGVyIHRhc2tzIGJ5IHBhdGhcXG5cIiArXHJcbiAgICAgICAgICAgICAgIFwiXFx0RXhhbXBsZXM6XFxuXCIgK1xyXG4gICAgICAgICAgICAgICBcIlxcdFxcdGB7c2VhcmNoUGF0aDogJy4nfWAgc2VhcmNoZXMganVzdCB0aGlzIHBhZ2VcXG5cIiArXHJcbiAgICAgICAgICAgICAgIFwiXFx0XFx0YHtzZWFyY2hQYXRoOiAnXFxcInBhdGgvdG8vZm9sZGVyXFxcIid9YCBzZWFyY2hlcyBhIGZvbGRlciBhbmQgc3ViZm9sZGVyc1xcblwiICtcclxuICAgICAgICAgICAgICAgXCJcXHRPbWl0dGluZyB0aGUgYXJndW1lbnQgc2VhcmNoZXMgYWxsIHBhZ2VzXCJcclxuICAgICAgICAgKVxyXG4gICAgICAgICBkdi5zcGFuKFxyXG4gICAgICAgICAgICBcIi0gKipgdmlld0hpZGRlbkZpbGVzYCoqIC0gSW5jbHVkZSBoaWRkZW4gZmlsZXMgaW4gdGhlIHNlYXJjaFxcblwiICtcclxuICAgICAgICAgICAgICAgXCJcXHREaXJlY3RvcmllcyBhbmQgZmlsZXMgc3RhcnRpbmcgd2l0aCBgX2AgYXJlIGhpZGRlblxcblwiICtcclxuICAgICAgICAgICAgICAgXCJcXHRVc2UgdGhlIGFyZ3VtZW50IHRvIGluY2x1ZGUgdGhlbSBpbiB0aGUgc2VhcmNoXFxuXCIgK1xyXG4gICAgICAgICAgICAgICBcIlxcdEV4YW1wbGU6XFxuXCIgK1xyXG4gICAgICAgICAgICAgICBcIlxcdFxcdGB7dmlld0hpZGRlbkZpbGVzOiB0cnVlfWBcIlxyXG4gICAgICAgICApXHJcblxyXG4gICAgICAgICAvLyBkdi5zcGFuKFwiVXNlIHRoZSBmb2xsb3dpbmcgcHJlZml4ZXMgdG8gZmlsdGVyIHRoZSB0YWdzIGluIGBzZWFyY2hUYWdzYFwiKTtcclxuICAgICAgICAgLy8gZHYuc3BhbihcIi0gKipgI2FpL05BTUVgKiogLSBhY3Rpb24gaXRlbSB3aXRoIGBOQU1FYFwiKTtcclxuICAgICAgICAgLy8gZHYuc3BhbihcIi0gKipgI2FwL0FQUGAqKiAtIGFwcGxpY2F0aW9uIGBBUFBgXCIpO1xyXG4gICAgICAgICAvLyBkdi5zcGFuKFwiLSAqKmAjZC9OQU1FYCoqIC0gZGlzY3Vzc2lvbiB3aXRoIGBOQU1FYFwiKTtcclxuICAgICAgICAgLy8gZHYuc3BhbihcIi0gKipgI3AvTkFNRWAqKiAtIHByb2plY3QgYE5BTUVgXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBXYWl0IGZvciBPYnNpZGlhbiB0byBiZSBmdWxseSBsb2FkZWRcclxuICAgICAgLy9hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmFwcC53b3Jrc3BhY2UpO1xyXG4gICAgICAvLyB0aGlzLnJlZ2lzdGVyRXZlbnQoXHJcbiAgICAgIC8vICAgIHRoaXMuYXBwLndvcmtzcGFjZS5vbihcInF1aWNrLXByZXZpZXdcIiwgKCkgPT4ge1xyXG4gICAgICAvLyAgICAgICBjb25zb2xlLmxvZygnb0JybzogXCJlZGl0b3ItcHJldmlld1wiIGV2ZW50IGhhcyBmaXJlZCEnKTtcclxuICAgICAgLy8gICAgICAgdGhpcy5tYWtlSGVhZGVyc1N0aWNreSgpO1xyXG4gICAgICAvLyAgICB9KVxyXG4gICAgICAvLyApO1xyXG5cclxuICAgICAgLy8gdGhpcy5vYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcclxuICAgICAgLy8gICAgdGhpcy5tYWtlSGVhZGVyc1N0aWNreSgpO1xyXG4gICAgICAvLyB9KTtcclxuXHJcbiAgICAgIC8vIGNvbnN0IGRvY3VtZW50Qm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xyXG4gICAgICAvLyBpZiAoZG9jdW1lbnRCb2R5KSB7XHJcbiAgICAgIC8vICAgIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudEJvZHksIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pO1xyXG4gICAgICAvLyB9XHJcblxyXG4gICAgICAvLyB0aGlzLnJlZ2lzdGVyTWFya2Rvd25Db2RlQmxvY2tQcm9jZXNzb3IoXCJkYXNoXCIsIChzcmMsIGVsLCBjdHgpID0+IHtcclxuICAgICAgLy8gICAgY29uc29sZS5sb2coXCJkYXNoXCIsIHNyYywgXCI8LS0gc291cmNlXCIsIGVsLCBjdHgpXHJcbiAgICAgIC8vICAgIGxldCBjYXJkcyA9IFtcclxuICAgICAgLy8gICAgICAge1xyXG4gICAgICAvLyAgICAgICAgICB0aXRsZTogXCJDYWxlbmRhclwiLFxyXG4gICAgICAvLyAgICAgICAgICBjb250ZW50OiBgXHJcbiAgICAgIC8vICAgICAgICAgIFtbQ2FsZW5kYXIgQWN0aW9uc11dXHJcbiAgICAgIC8vICAgICAgICAgIFtbUmVjZW50IFVwZGF0ZXNdXVxyXG4gICAgICAvLyAgICAgICAgICBbW1ByaW9yaXRpZXNdXVxyXG4gICAgICAvLyAgICAgICAgICBbW09ic2lkaWFuIE5vdGVzXV1gLFxyXG4gICAgICAvLyAgICAgICB9LFxyXG4gICAgICAvLyAgICAgICB7XHJcbiAgICAgIC8vICAgICAgICAgIHRpdGxlOiBcIlRhc2tzXCIsXHJcbiAgICAgIC8vICAgICAgICAgIGNvbnRlbnQ6IGBcclxuICAgICAgLy8gICAgICAgICAgW1tUYXNrIFN0YWdlc11dXHJcbiAgICAgIC8vICAgICAgICAgIFtbVGFzayBQcm9ncmVzc2lvbl1dXHJcbiAgICAgIC8vICAgICAgICAgIFtbVGFza3MgUHJpb3JpdGl6ZWRdXVxyXG4gICAgICAvLyAgICAgICAgICBbW1Rhc2tzIFBsYW5uaW5nXV1cclxuICAgICAgLy8gICAgICAgICAgW1tUYXNrcyBJZGVhdGlvbl1dXHJcbiAgICAgIC8vICAgICAgICAgIFtbSGVscCBUYXNrc11dYCxcclxuICAgICAgLy8gICAgICAgfSxcclxuICAgICAgLy8gICAgICAge1xyXG4gICAgICAvLyAgICAgICAgICB0aXRsZTogXCJUYWdzXCIsXHJcbiAgICAgIC8vICAgICAgICAgIGNvbnRlbnQ6IGBcclxuICAgICAgLy8gICAgICAgICAgW1tBbGwgVGFnc11dXHJcbiAgICAgIC8vICAgICAgICAgIFtbQWN0aW9uIEl0ZW1zXV1cclxuICAgICAgLy8gICAgICAgICAgW1tBcHBsaWNhdGlvbnNdXVxyXG4gICAgICAvLyAgICAgICAgICBbW0Rpc2N1c3Npb25zXV1cclxuICAgICAgLy8gICAgICAgICAgW1tQcm9qZWN0c11dXHJcbiAgICAgIC8vICAgICAgICAgIFtbSGVscCBUYWdzXV1gLFxyXG4gICAgICAvLyAgICAgICB9LFxyXG4gICAgICAvLyAgICBdXHJcbiAgICAgIC8vICAgIGNvbnN0IGNvbnRhaW5lciA9IGNyZWF0ZUVsKFwiZGl2XCIsIHsgY2xzOiBcIm9icm8tY29udGFpbmVyXCIgfSlcclxuICAgICAgLy8gICAgY2FyZHMuZm9yRWFjaChjID0+IHtcclxuICAgICAgLy8gICAgICAgbGV0IHQgPSBcIlwiXHJcbiAgICAgIC8vICAgICAgIGMuY29udGVudC5zcGxpdChcIlxcblwiKS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAvLyAgICAgICAgICBjb25zdCBsID0gaXRlbS50cmltKCkucmVwbGFjZShcIltbXCIsIFwiXCIpLnJlcGxhY2UoXCJdXVwiLCBcIlwiKVxyXG4gICAgICAvLyAgICAgICAgICBpZiAobCkge1xyXG4gICAgICAvLyAgICAgICAgICAgICB0ICs9IGA8YSBocmVmPVwib2JzaWRpYW46Ly9vcGVuP2ZpbGU9JHtsLnJlcGxhY2UoLyAvZywgXCIlMjBcIil9Lm1kXCI+JHtsfTwvYT48YnI+YFxyXG4gICAgICAvLyAgICAgICAgICB9XHJcbiAgICAgIC8vICAgICAgIH0pXHJcbiAgICAgIC8vICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkYXNoLmFkZENhcmQoYy50aXRsZSwgdCkpXHJcbiAgICAgIC8vICAgIH0pXHJcbiAgICAgIC8vICAgIGVsLmFwcGVuZENoaWxkKGNvbnRhaW5lcilcclxuICAgICAgLy8gfSlcclxuXHJcbiAgICAgIC8vICh3aW5kb3cuYWRkTWVtb0ZpZWxkcyA9IChtZW1vVGl0bGUsIG1lbW9Db250ZW50KSA9PiB7XHJcbiAgICAgIC8vICAgIGNvbnN0IGVkaXRvciA9IHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVMZWFmLnZpZXcuc291cmNlTW9kZS5jbUVkaXRvcjtcclxuXHJcbiAgICAgIC8vICAgIC8vIEdlbmVyYXRlIGN1cnJlbnQgZGF0ZSBpbiBZWVlZLU1NLUREIGZvcm1hdFxyXG4gICAgICAvLyAgICBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF07XHJcblxyXG4gICAgICAvLyAgICAvLyBNYXJrZG93biB0ZW1wbGF0ZSBmb3IgbWVtbyBmaWVsZHNcclxuICAgICAgLy8gICAgY29uc3QgbWVtb0ZpZWxkc01hcmtkb3duID0gYFxyXG4gICAgICAvLyAgICAgICAgXFxuIyMgTWVtbzogJHttZW1vVGl0bGV9XHJcbiAgICAgIC8vICAgICAgICBcXG4tICoqRGF0ZToqKiAke2N1cnJlbnREYXRlfVxyXG4gICAgICAvLyAgICAgICAgXFxuLSAqKkNvbnRlbnQ6KiogJHttZW1vQ29udGVudH1cclxuICAgICAgLy8gICAgICAgIFxcbmA7XHJcblxyXG4gICAgICAvLyAgICAvLyBJbnNlcnQgbWVtbyBmaWVsZHMgaW50byB0aGUgZG9jdW1lbnRcclxuICAgICAgLy8gICAgZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24obWVtb0ZpZWxkc01hcmtkb3duKTtcclxuICAgICAgLy8gfSksXHJcbiAgICAgIC8vICAgIC8vIE5FRUQgVE8gTUFLRSBUSElTIFVTRUZVTFxyXG4gICAgICAvLyAgICB0aGlzLmFkZENvbW1hbmQoe1xyXG4gICAgICAvLyAgICAgICBpZDogXCJhZGQtbWVtby1maWVsZHNcIixcclxuICAgICAgLy8gICAgICAgbmFtZTogXCJBZGQgTWVtbyBGaWVsZHNcIixcclxuICAgICAgLy8gICAgICAgaG90a2V5czogW3sgbW9kaWZpZXJzOiBbXCJNb2RcIiwgXCJTaGlmdFwiXSwga2V5OiBcIm9cIiB9XSxcclxuICAgICAgLy8gICAgICAgZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3I6IEVkaXRvcikgPT4ge1xyXG4gICAgICAvLyAgICAgICAgICB3aW5kb3cuYWRkTWVtb0ZpZWxkcyhcIlRlc3QgTWVtb1wiLCBcIkJsYWgsIEJsYWgsIEJsYWhcIik7XHJcbiAgICAgIC8vICAgICAgIH0sXHJcbiAgICAgIC8vICAgIH0pO1xyXG4gICB9XHJcblxyXG4gICBvbnVubG9hZCgpIHtcclxuICAgICAgLy8gVE9ETzogYWRkIHVubG9hZCBjb2RlXHJcbiAgIH1cclxuXHJcbiAgIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuICAgICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSlcclxuICAgICAgLy8gY29uc29sZS5lcnJvcihgb0JybyAke3RoaXMubWFuaWZlc3QudmVyc2lvbn06IFNldHRpbmdzIGFyZSBsb2FkZWQhYCwgdGhpcy5zZXR0aW5ncyk7XHJcbiAgIH1cclxuXHJcbiAgIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuICAgICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKVxyXG4gICAgICAvLyBjb25zb2xlLmVycm9yKGBvQnJvICR7dGhpcy5tYW5pZmVzdC52ZXJzaW9ufTogU2V0dGluZ3MgYXJlIHNhdmVkIWAsIHRoaXMuc2V0dGluZ3MpO1xyXG4gICB9XHJcblxyXG4gICAvLyBvYnNlcnZlcjogTXV0YXRpb25PYnNlcnZlciB8IG51bGwgPSBudWxsO1xyXG4gICAvLyBtYWtlSGVhZGVyc1N0aWNreSgpIHtcclxuICAgLy8gICAgY29uc29sZS5sb2coXCJvQnJvOiBtYWtlSGVhZGVyc1N0aWNreVwiKTtcclxuICAgLy8gICAgLy8gR2V0IGFsbCBoZWFkZXJzIGluIHRoZSBkb2N1bWVudFxyXG4gICAvLyAgICBjb25zdCBoZWFkZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImgxLCBoMiwgaDNcIik7XHJcblxyXG4gICAvLyAgICBjb25zb2xlLmxvZyhoZWFkZXJzKTtcclxuXHJcbiAgIC8vICAgIGhlYWRlcnMuZm9yRWFjaChoZWFkZXIgPT4ge1xyXG4gICAvLyAgICAgICAvLyBNYWtlIGhlYWRlciBzdGlja3lcclxuICAgLy8gICAgICAgaGVhZGVyLnN0eWxlLnBvc2l0aW9uID0gXCJzdGlja3lcIjtcclxuICAgLy8gICAgICAgaGVhZGVyLnN0eWxlLnRvcCA9IFwiMFwiO1xyXG4gICAvLyAgICAgICBoZWFkZXIuc3R5bGUuekluZGV4ID0gXCIxMDAwXCI7XHJcbiAgIC8vICAgICAgIGhlYWRlci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCI7IC8vIENoYW5nZSBhcyBwZXIgeW91ciB0aGVtZVxyXG4gICAvLyAgICB9KTtcclxuICAgLy8gfVxyXG59XHJcblxyXG5jbGFzcyBvQnJvU2V0dGluZ3NUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuICAgcGx1Z2luOiBvQnJvXHJcblxyXG4gICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBvQnJvKSB7XHJcbiAgICAgIHN1cGVyKGFwcCwgcGx1Z2luKVxyXG4gICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpblxyXG4gICB9XHJcblxyXG4gICBkaXNwbGF5KCkge1xyXG4gICAgICB0aGlzLmNvbnRhaW5lckVsLmVtcHR5KClcclxuXHJcbiAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoM1wiLCB7XHJcbiAgICAgICAgIHRleHQ6IFwiTW9kaWZ5IG9Ccm8gZGVmYXVsdCBzZXR0aW5ncy4gRG9lcyBub3QgY2hhbmdlIHBhc3NlZCBwYXJhbWV0ZXJzLlwiLFxyXG4gICAgICB9KVxyXG5cclxuICAgICAgbmV3IFNldHRpbmcodGhpcy5jb250YWluZXJFbCkuc2V0TmFtZShcIlNlYXJjaCBwYWdlc1wiKS5zZXRIZWFkaW5nKClcclxuXHJcbiAgICAgIG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyRWwpXHJcbiAgICAgICAgIC5zZXROYW1lKFwiU2VhcmNoIHBhdGhcIilcclxuICAgICAgICAgLnNldERlc2MoXCJFbnRlciBhIHBhdGggcmVsYXRpdmUgdG8gdGhlIHZhdWx0IG9yICcuJyBmb3IgdGhlIGN1cnJlbnQgcGFnZSBvbmx5LlwiKVxyXG4gICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+XHJcbiAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFwiRW50ZXIgdGhlIHBhdGggb3IgbGVhdmUgYmxhbmsgZm9yIGFsbC5cIilcclxuICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNlYXJjaFBhdGgpXHJcbiAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnNlYXJjaFBhdGggPSB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKVxyXG4gICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICApXHJcbiAgICAgIG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyRWwpXHJcbiAgICAgICAgIC5zZXROYW1lKFwiVmlldyBoaWRkZW4gcGFnZXNcIilcclxuICAgICAgICAgLnNldERlc2MoXHJcbiAgICAgICAgICAgIFwiSW5jbHVkZSBwYWdlcyBhbmQgc3ViZGlyZWN0b3JpZXMgc3RhcnRpbmcgd2l0aCAnXycuIFRoZXNlIGFyZSB1c3VhbGx5IGhpZGRlbiBmcm9tIHZpZXcuXCJcclxuICAgICAgICAgKVxyXG4gICAgICAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PlxyXG4gICAgICAgICAgICB0b2dnbGUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mudmlld0hpZGRlbkZpbGVzKS5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnZpZXdIaWRkZW5GaWxlcyA9IHZhbHVlXHJcbiAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgIClcclxuXHJcbiAgICAgIG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyRWwpLnNldE5hbWUoXCJTZWFyY2ggdGFnc1wiKS5zZXRIZWFkaW5nKClcclxuXHJcbiAgICAgIG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyRWwpXHJcbiAgICAgICAgIC5zZXROYW1lKFwiU2VhcmNoIHRhZ1wiKVxyXG4gICAgICAgICAuc2V0RGVzYyhcIlNlYXJjaCBmb3IgdGFza3Mgc3RhcnRpbmcgd2l0aCB0aGUgdGFnLiBMZWF2ZSBibGFuayBmb3IgYWxsIHRhZ3MuXCIpXHJcbiAgICAgICAgIC5hZGRUZXh0KHRleHQgPT5cclxuICAgICAgICAgICAgdGV4dFxyXG4gICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoXCJFbnRlciB0aGUgdGFnIG9yIGxlYXZlIGJsYW5rIGZvciBhbGwuXCIpXHJcbiAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zZWFyY2hUYWdzKVxyXG4gICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgdmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zZWFyY2hUYWdzID0gdmFsdWVcclxuICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKClcclxuICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgKVxyXG4gICAgICBuZXcgU2V0dGluZyh0aGlzLmNvbnRhaW5lckVsKVxyXG4gICAgICAgICAuc2V0TmFtZShcIlZpZXcgbGlzdFwiKVxyXG4gICAgICAgICAuc2V0RGVzYyhcIkluY2x1ZGUgYnVsbGV0cyAobGlzdCBpdGVtcykgaW4gdGhlIHNlYXJjaC4gVGhlc2UgYXJlIHVzdWFsbHkgaGlkZGVuIGZyb20gdmlldy5cIilcclxuICAgICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT5cclxuICAgICAgICAgICAgdG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnZpZXdMaXN0SXRlbXMpLm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcclxuICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Mudmlld0xpc3RJdGVtcyA9IHZhbHVlXHJcbiAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgIClcclxuXHJcbiAgICAgIG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyRWwpLnNldE5hbWUoXCJUYXNrIGZvcm1hdHRpbmdcIikuc2V0SGVhZGluZygpXHJcblxyXG4gICAgICBuZXcgU2V0dGluZyh0aGlzLmNvbnRhaW5lckVsKVxyXG4gICAgICAgICAuc2V0TmFtZShcIkhlYWRlciBzaXplXCIpXHJcbiAgICAgICAgIC5zZXREZXNjKFwiRW50ZXIgYSBzaXplIGZyb20gMSAtIDYuXCIpXHJcbiAgICAgICAgIC5hZGRUZXh0KHRleHQgPT5cclxuICAgICAgICAgICAgdGV4dFxyXG4gICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoXCI1XCIpXHJcbiAgICAgICAgICAgICAgIC5zZXRWYWx1ZShcIlwiICsgdGhpcy5wbHVnaW4uc2V0dGluZ3MudGFza0hlYWRlclNpemUpXHJcbiAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGxldCBwYXJzZWQgPSBwYXJzZUludCh2YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKHBhcnNlZCkpIHJldHVyblxyXG4gICAgICAgICAgICAgICAgICBpZiAocGFyc2VkIDwgMSB8fCBwYXJzZWQgPiA2KSByZXR1cm5cclxuICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MudGFza0hlYWRlclNpemUgPSBwYXJzZWRcclxuICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKClcclxuICAgICAgICAgICAgICAgICAgdHNrcy5oZWFkZXJTaXplID0gcGFyc2VkXHJcbiAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBvQnJvOiBIZWFkZXIgU2l6ZWAsIHRoaXMucGx1Z2luLnNldHRpbmdzLCB0c2tzLmhlYWRlclNpemUpO1xyXG4gICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICApXHJcbiAgIH1cclxufVxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLVxyXG4vLyBGaWxlcyAmIFBhZ2VzXHJcbi8vIC0tLS0tLS0tLS0tLS1cclxuXHJcbi8vIHRvZG8gLSBjaGVjayBpZiBmaWxlIGlzIGhpZGRlblxyXG5mdW5jdGlvbiBpc0ZpbGVWaXNpYmxlKGYsIHZpZXdIaWRkZW5GaWxlcykge1xyXG4gICB0cnkge1xyXG4gICAgICAvL2lmIChmID09ICcnKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIGlmICh2aWV3SGlkZGVuRmlsZXMpIHJldHVybiB0cnVlXHJcbiAgICAgIGNvbnN0IHBhdGhQYXJ0cyA9IGYuc3BsaXQoXCIvXCIpXHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKGBwYXRoUGFydHNgLCBwYXRoUGFydHMsIGYpO1xyXG4gICAgICBsZXQgaSA9IHBhdGhQYXJ0cy5sZW5ndGggLSAxXHJcbiAgICAgIHdoaWxlIChpID49IDApIHtcclxuICAgICAgICAgLy8gY29uc29sZS5sb2coYHBhdGhQYXJ0c1tgLCBpLCBgXSBcImAsIHBhdGhQYXJ0c1tpXSwgYFwiYCk7XHJcbiAgICAgICAgIGlmIChwYXRoUGFydHNbaV0uc3RhcnRzV2l0aChcIl9cIikpIHJldHVybiBmYWxzZVxyXG4gICAgICAgICAtLWlcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdHJ1ZVxyXG4gICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yOiBcIiwgZXJyLm1lc3NhZ2UpXHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICB9XHJcbn1cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBDb250ZXh0IE1hbmFnZW1lbnRcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5sZXQgY3R4ID0ge1xyXG4gICB0b2RheToge30sXHJcbiAgIHNvdzoge30sXHJcbiAgIGVvdzoge30sXHJcbiAgIGVvbnc6IHt9LFxyXG4gICBzbzR3YToge30sXHJcblxyXG4gICBzZWFyY2hUYWdzOiBudWxsLFxyXG4gICB2aWV3TGlzdEl0ZW1zOiBudWxsLFxyXG4gICBzZWFyY2hQYXRoOiBudWxsLFxyXG4gICB2aWV3SGlkZGVuRmlsZXM6IG51bGwsXHJcbiAgIGhlYWRlclNpemU6IHt9LFxyXG5cclxuICAgLy8gYWRkIHBhcmFtIHRvIG92ZXJyaWRlIHRvZGF5XHJcbiAgIHVwZGF0ZURhdGVzKGR2KSB7XHJcbiAgICAgIGNvbnN0IHsgRGF0ZVRpbWUgfSA9IGR2Lmx1eG9uXHJcbiAgICAgIHRoaXMudG9kYXkgPSBkdi5kYXRlKFwidG9kYXlcIilcclxuICAgICAgdGhpcy5zb3cgPSB0aGlzLnRvZGF5LnBsdXMoeyBkYXlzOiAtKHRoaXMudG9kYXkud2Vla2RheSAlIDcpIH0pXHJcbiAgICAgIHRoaXMuZW93ID0gdGhpcy5zb3cucGx1cyh7IGRheXM6IDcsIG1pbGxpc2Vjb25kczogLTEgfSlcclxuICAgICAgdGhpcy5lb253ID0gdGhpcy5lb3cucGx1cyh7IGRheXM6IDcgfSlcclxuICAgICAgdGhpcy5zbzR3YSA9IHRoaXMuc293LnBsdXMoeyBkYXlzOiAtMjggfSlcclxuICAgICAgLy8gY29uc29sZS5sb2coYG9Ccm86IHVwZGF0ZURhdGVzYCwgdG9kYXksIHNvdywgZW93LCBlb253LCBzbzR3YSk7XHJcbiAgIH0sXHJcblxyXG4gICB1cGRhdGVDcml0ZXJpYShzZXR0aW5ncywgZHYsIGFyZ3MpIHtcclxuICAgICAgdGhpcy5zZWFyY2hUYWdzID0gc2V0dGluZ3Muc2VhcmNoVGFnc1xyXG4gICAgICB0aGlzLnZpZXdMaXN0SXRlbXMgPSBzZXR0aW5ncy52aWV3TGlzdEl0ZW1zXHJcbiAgICAgIHRoaXMuc2VhcmNoUGF0aCA9IHNldHRpbmdzLnNlYXJjaFBhdGhcclxuICAgICAgdGhpcy52aWV3SGlkZGVuRmlsZXMgPSBzZXR0aW5ncy52aWV3SGlkZGVuRmlsZXNcclxuICAgICAgdGhpcy5oZWFkZXJTaXplID0gc2V0dGluZ3MudGFza0hlYWRlclNpemVcclxuICAgICAgaWYgKGFyZ3MpIHtcclxuICAgICAgICAgaWYgKGFyZ3Muc2VhcmNoVGFncykgdGhpcy5zZWFyY2hUYWdzID0gYXJncy5zZWFyY2hUYWdzXHJcbiAgICAgICAgIGlmIChhcmdzLnZpZXdMaXN0SXRlbXMpIHRoaXMudmlld0xpc3RJdGVtcyA9IGFyZ3Mudmlld0xpc3RJdGVtc1xyXG4gICAgICAgICBpZiAoYXJncy5zZWFyY2hQYXRoKSB0aGlzLnNlYXJjaFBhdGggPSBhcmdzLnNlYXJjaFBhdGhcclxuICAgICAgICAgaWYgKGFyZ3Mudmlld0hpZGRlbkZpbGVzKSB0aGlzLnZpZXdIaWRkZW5GaWxlcyA9IGFyZ3Mudmlld0hpZGRlbkZpbGVzXHJcbiAgICAgIH1cclxuICAgfSxcclxuXHJcbiAgIGdldENvbnRleHQoc2V0dGluZ3MsIGR2LCBhcmdzKSB7XHJcbiAgICAgIHRoaXMudXBkYXRlRGF0ZXMoZHYpXHJcbiAgICAgIHRoaXMudXBkYXRlQ3JpdGVyaWEoc2V0dGluZ3MsIGR2LCBhcmdzKVxyXG4gICB9LFxyXG59XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS1cclxuLy8gVGFzayBNYW5hZ2VtZW50XHJcbi8vIC0tLS0tLS0tLS0tLS0tLVxyXG5cclxubGV0IHRza3MgPSB7XHJcbiAgIGdldEFsbFRzOiAwLFxyXG4gICBzb3J0VHM6IDAsXHJcbiAgIGFsbDogW10sXHJcbiAgIG92ZXJkdWU6IFtdLFxyXG4gICB0aGlzV2VlazogW10sXHJcbiAgIG5leHRXZWVrOiBbXSxcclxuICAgc3RhcnRlZDogW10sXHJcbiAgIG5vdFByaW9yaXRpemVkOiBbXSxcclxuICAgY29tcGxldGVkOiBbXSxcclxuICAgaGVhZGVyU2l6ZTogNSxcclxuXHJcbiAgIGFzeW5jIGdldEFsbChkdiwgYXJncykge1xyXG4gICAgICB0aGlzLmFsbCA9IFtdXHJcbiAgICAgIHRoaXMuZ2V0QWxsVHMgPSBudWxsXHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwicGFnZXNcIiwgZHYucGFnZXMoY3R4LnNlYXJjaFBhdGgpLCBcInBhdGhcIiwgY3R4LnNlYXJjaFBhdGgsIFwiLlwiKTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAgaWYgKGN0eC5zZWFyY2hQYXRoID09IFwiLlwiIHx8IGN0eC5zZWFyY2hQYXRoID09ICdcIi5cIicpXHJcbiAgICAgICAgICAgIHRoaXMuYWxsID0gYXdhaXQgZHYuY3VycmVudCgpLmZpbGUudGFza3NcclxuICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLmFsbCA9IGF3YWl0IGR2XHJcbiAgICAgICAgICAgICAgIC5wYWdlcyhjdHguc2VhcmNoUGF0aClcclxuICAgICAgICAgICAgICAgLndoZXJlKHAgPT4gaXNGaWxlVmlzaWJsZShwLmZpbGUucGF0aCwgY3R4LnZpZXdIaWRkZW5GaWxlcykpLmZpbGUudGFza3NcclxuICAgICAgICAgdGhpcy5nZXRBbGxUcyA9IERhdGUubm93KClcclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJvQnJvOiB0c2tzLmdldEFsbCBmYWlsOiBcIiwgZXJyLm1lc3NhZ2UsIGN0eC5zZWFyY2hQYXRoKVxyXG4gICAgICB9XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKGBvQnJvOiBnZXRBbGxUc2AsIHRoaXMuYWxsLCB0aGlzLmdldEFsbFRzLCBEYXRlLm5vdygpIC0gdGhpcy5nZXRBbGxUcyk7XHJcbiAgICAgIHJldHVyblxyXG4gICB9LFxyXG5cclxuICAgYXN5bmMgc29ydChkdikge1xyXG4gICAgICB0aGlzLm92ZXJkdWUgPSBbXVxyXG4gICAgICB0aGlzLnRoaXNXZWVrID0gW11cclxuICAgICAgdGhpcy5uZXh0V2VlayA9IFtdXHJcbiAgICAgIHRoaXMuc3RhcnRlZCA9IFtdXHJcbiAgICAgIHRoaXMubm90UHJpb3JpdGl6ZWQgPSBbXVxyXG4gICAgICB0aGlzLmNvbXBsZXRlZCA9IFtdXHJcbiAgICAgIHRoaXMuc29ydFRzID0gbnVsbFxyXG4gICAgICB0cnkge1xyXG4gICAgICAgICBmb3IgKGxldCB0IG9mIHRoaXMuYWxsKSB7XHJcbiAgICAgICAgICAgIGlmICh0LmNvbXBsZXRlZCkge1xyXG4gICAgICAgICAgICAgICBpZiAoY3R4LnNvNHdhIDw9IHQuY29tcGxldGlvbikgdGhpcy5jb21wbGV0ZWQucHVzaCh0KVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCF0LmR1ZSkge1xyXG4gICAgICAgICAgICAgICBpZiAodC5zdGFydCAmJiB0LnN0YXJ0IDw9IGN0eC50b2RheSkgdGhpcy5zdGFydGVkLnB1c2godClcclxuICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiVGFza1wiLCB0LCB0aGlzLm5vdFByaW9yaXRpemVkKTtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5ub3RQcmlvcml0aXplZC5wdXNoKHQpXHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0LmR1ZSAmJiB0LmR1ZSA8IGN0eC50b2RheSkgdGhpcy5vdmVyZHVlLnB1c2godClcclxuICAgICAgICAgICAgZWxzZSBpZiAoY3R4LnNvdyA8PSB0LmR1ZSAmJiB0LmR1ZSA8PSBjdHguZW93KSB0aGlzLnRoaXNXZWVrLnB1c2godClcclxuICAgICAgICAgICAgZWxzZSBpZiAoY3R4LmVvdyA8IHQuZHVlICYmIHQuZHVlIDw9IGN0eC5lb253KSB0aGlzLm5leHRXZWVrLnB1c2godClcclxuICAgICAgICAgICAgZWxzZSBpZiAodC5zdGFydCAmJiB0LnN0YXJ0IDw9IGN0eC50b2RheSkgdGhpcy5zdGFydGVkLnB1c2godClcclxuICAgICAgICAgfVxyXG4gICAgICAgICB0aGlzLm92ZXJkdWUgPSBkdi5hcnJheSh0aGlzLm92ZXJkdWUpXHJcbiAgICAgICAgIHRoaXMudGhpc1dlZWsgPSBkdi5hcnJheSh0aGlzLnRoaXNXZWVrKVxyXG4gICAgICAgICB0aGlzLm5leHRXZWVrID0gZHYuYXJyYXkodGhpcy5uZXh0V2VlaylcclxuICAgICAgICAgdGhpcy5zdGFydGVkID0gZHYuYXJyYXkodGhpcy5zdGFydGVkKVxyXG4gICAgICAgICB0aGlzLm5vdFByaW9yaXRpemVkID0gZHYuYXJyYXkodGhpcy5ub3RQcmlvcml0aXplZClcclxuICAgICAgICAgdGhpcy5jb21wbGV0ZWQgPSBkdi5hcnJheSh0aGlzLmNvbXBsZXRlZClcclxuICAgICAgICAgdGhpcy5zb3J0VHMgPSBEYXRlLm5vdygpXHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICBjb25zb2xlLmVycm9yKFwib0JybzogdHNrcy5zb3J0IGZhaWw6IFwiLCBlcnIubWVzc2FnZSlcclxuICAgICAgfVxyXG4gICAgICAvLyBjb25zb2xlLmxvZyhgb0Jybzogc29ydFRzYCwgdGhpcy5vdmVyZHVlLCB0aGlzLnRoaXNXZWVrLCB0aGlzLm5leHRXZWVrLCB0aGlzLnN0YXJ0ZWQsIHRoaXMubm90UHJpb3JpdGl6ZWQsIHRoaXMuY29tcGxldGVkLCB0aGlzLnNvcnRUcyk7XHJcbiAgICAgIHN0YXR1c0Jhci5jaGlsZHJlblswXS5zZXRUZXh0KFxyXG4gICAgICAgICBgT3ZlcmR1ZTogJHt0aGlzLm92ZXJkdWUubGVuZ3RofSAgVGhpcyB3ZWVrOiAke3RoaXMudGhpc1dlZWsubGVuZ3RofWBcclxuICAgICAgKVxyXG4gICAgICByZXR1cm5cclxuICAgfSxcclxuXHJcbiAgIGFzeW5jIHVwZGF0ZShzZXR0aW5ncywgZHYsIGFyZ3MpIHtcclxuICAgICAgLy8gY29uc29sZS5sb2coYFNldHRpbmdzOiBgLCBzZXR0aW5ncywgZHYsIGFyZ3MpO1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyhgaGVhZGVyIHNpemU6IGAsIHNldHRpbmdzLnRhc2tIZWFkZXJTaXplLCB0c2tzLmhlYWRlclNpemUpO1xyXG4gICAgICB0c2tzLmhlYWRlclNpemUgPSBzZXR0aW5ncy50YXNrSGVhZGVyU2l6ZVxyXG4gICAgICBjdHguZ2V0Q29udGV4dChzZXR0aW5ncywgZHYsIGFyZ3MpXHJcbiAgICAgIGF3YWl0IHRoaXMuZ2V0QWxsKGR2LCBhcmdzKVxyXG4gICAgICBhd2FpdCB0aGlzLnNvcnQoZHYpXHJcbiAgIH0sXHJcblxyXG4gICBhc3luYyBzaG93KGR2LCB0aXRsZSwgdGFza3MpIHtcclxuICAgICAgaWYgKCF0YXNrcyB8fCAhdGFza3MubGVuZ3RoKSByZXR1cm5cclxuICAgICAgYXdhaXQgZHYuaGVhZGVyKHRoaXMuaGVhZGVyU2l6ZSwgdGl0bGUgKyBcIiAoXCIgKyB0YXNrcy5sZW5ndGggKyBcIilcIilcclxuICAgICAgYXdhaXQgZHYudGFza0xpc3QodGFza3MsIGZhbHNlKVxyXG4gICB9LFxyXG59XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS1cclxuLy8gVGFncyBNYW5hZ2VtZW50XHJcbi8vIC0tLS0tLS0tLS0tLS0tLVxyXG5cclxubGV0IHRhZ3MgPSB7XHJcbiAgIGFsbDogW10sXHJcbiAgIHVuaXF1ZTogW10sXHJcbiAgIHRhZ1RzOiAwLFxyXG4gICBoZWFkZXJTaXplOiA1LFxyXG5cclxuICAgYXN5bmMgZ2V0QWxsKGR2LCBhcmdzKSB7XHJcbiAgICAgIHRoaXMuYWxsID0gW11cclxuICAgICAgdGhpcy50YWdUcyA9IG51bGxcclxuICAgICAgLy8gY29uc29sZS5sb2coXCJjdHhcIiwgY3R4KTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAgaWYgKGN0eC5zZWFyY2hQYXRoID09ICdcIi5cIicgfHwgY3R4LnNlYXJjaFBhdGggPT0gXCIuXCIpXHJcbiAgICAgICAgICAgIHRoaXMuYWxsID0gYXdhaXQgZHYuY3VycmVudCgpLmZpbGUubGlzdHMud2hlcmUodCA9PiB0LnRhZ3MubGVuZ3RoID4gMClcclxuICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLmFsbCA9IGF3YWl0IGR2XHJcbiAgICAgICAgICAgICAgIC5wYWdlcyhjdHguc2VhcmNoUGF0aClcclxuICAgICAgICAgICAgICAgLndoZXJlKHAgPT4gaXNGaWxlVmlzaWJsZShwLmZpbGUucGF0aCwgY3R4LnZpZXdIaWRkZW5GaWxlcykpXHJcbiAgICAgICAgICAgICAgIC5maWxlLmxpc3RzLndoZXJlKHQgPT4gdC50YWdzLmxlbmd0aCA+IDApXHJcbiAgICAgICAgIHRoaXMudGFnVHMgPSBEYXRlLm5vdygpXHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICBjb25zb2xlLmVycm9yKFwib0JybzogdGFncy5nZXRBbGwgZmFpbDogXCIsIGVyci5tZXNzYWdlKVxyXG4gICAgICB9XHJcbiAgIH0sXHJcblxyXG4gICBhc3luYyB1cGRhdGUoc2V0dGluZ3MsIGR2LCBhcmdzKSB7XHJcbiAgICAgIGN0eC5nZXRDb250ZXh0KHNldHRpbmdzLCBkdiwgYXJncylcclxuICAgICAgLy8gY29uc29sZS5sb2coYG9Ccm86IHRhZ3MudXBkYXRlYCwgYXJncywgc2V0dGluZ3MsIGN0eCk7XHJcbiAgICAgIGF3YWl0IHRoaXMuZ2V0QWxsKGR2LCBhcmdzKVxyXG4gICAgICBhd2FpdCB0YWdzLnZpZXcoZHYsIGN0eC5zZWFyY2hUYWdzKVxyXG4gICB9LFxyXG5cclxuICAgYXN5bmMgdmlldyhkdiwgc2VhcmNoKSB7XHJcbiAgICAgIGxldCB1bmlxdWVUYWdzID0gQXJyYXkuZnJvbShuZXcgU2V0KHRoaXMuYWxsLnRhZ3MpKS5zb3J0KClcclxuICAgICAgbGV0IGZpbHRlcmVkVGFncyA9IFtdXHJcblxyXG4gICAgICBpZiAoIXNlYXJjaCB8fCBzZWFyY2ggPT0gXCJcIikgZmlsdGVyZWRUYWdzID0gdW5pcXVlVGFnc1xyXG4gICAgICBlbHNlIHtcclxuICAgICAgICAgbGV0IGZpbHRlciA9IEFycmF5LmlzQXJyYXkoc2VhcmNoKSA/IHNlYXJjaCA6IFtzZWFyY2hdXHJcbiAgICAgICAgIGZpbHRlcmVkVGFncyA9IHVuaXF1ZVRhZ3MuZmlsdGVyKHQgPT4gZmlsdGVyLmluY2x1ZGVzKHQpKVxyXG4gICAgICB9XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKGBvQnJvOiB0YWdUc2AsIHRoaXMuYWxsLCB1bmlxdWVUYWdzLCBmaWx0ZXJlZFRhZ3MsIERhdGUubm93KCkgLSB0aGlzLnRhZ1RzKTtcclxuXHJcbiAgICAgIGZvciAobGV0IHQgb2YgZmlsdGVyZWRUYWdzKSB7XHJcbiAgICAgICAgIGF3YWl0IHRoaXMudmlld1RhZyhcclxuICAgICAgICAgICAgZHYsXHJcbiAgICAgICAgICAgIHQsXHJcbiAgICAgICAgICAgIHRoaXMuYWxsLndoZXJlKFxyXG4gICAgICAgICAgICAgICB3ID0+XHJcbiAgICAgICAgICAgICAgICAgIHcudGFncy5pbmNsdWRlcyh0KSAmJlxyXG4gICAgICAgICAgICAgICAgICAody50YXNrIHx8IGN0eC52aWV3TGlzdEl0ZW1zKSAmJlxyXG4gICAgICAgICAgICAgICAgICB3LnN0YXR1cyAhPSBcInhcIiAmJlxyXG4gICAgICAgICAgICAgICAgICB3LnN0YXR1cyAhPSBcIi1cIlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgIClcclxuICAgICAgfVxyXG4gICB9LFxyXG5cclxuICAgYXN5bmMgdmlld1RhZyhkdiwgdGl0bGUsIHRhZykge1xyXG4gICAgICBpZiAoIXRhZyB8fCAhdGFnLmxlbmd0aCkgcmV0dXJuXHJcbiAgICAgIGF3YWl0IGR2LmhlYWRlcih0aGlzLmhlYWRlclNpemUsIHRpdGxlICsgXCIgKFwiICsgdGFnLmxlbmd0aCArIFwiKVwiKVxyXG4gICAgICAvLyBjb25zb2xlLmxvZyh0aXRsZSwgdGFnKTtcclxuICAgICAgYXdhaXQgZHYudGFza0xpc3QodGFnLCBmYWxzZSlcclxuICAgfSxcclxufVxyXG5cclxuLy8gLS0tLS0tLS0tLS1cclxuLy8gVVJMIHBhc3RpbmdcclxuLy8gLS0tLS0tLS0tLS1cclxuXHJcbi8vIGxldCBVUkwgPSB7XHJcbi8vICAgIGlzVmFsaWRVUkwodXJsKTogYm9vbGVhbiB7XHJcbi8vICAgICAgIHRyeSB7XHJcbi8vICAgICAgICAgIG5ldyBVUkwodXJsKVxyXG4vLyAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4vLyAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4vLyAgICAgICAgICByZXR1cm4gZmFsc2VcclxuLy8gICAgICAgfVxyXG4vLyAgICB9LFxyXG5cclxuLy8gICAgYXN5bmMgZ2V0TWRVUkwob2JzaWRpYW4sIHVybCkge1xyXG4vLyAgICAgICAvLyBjb25zb2xlLmxvZyh3aW5kb3cubG9jYXRpb24ub3JpZ2luKTtcclxuXHJcbi8vICAgICAgIGlmICghdGhpcy5pc1ZhbGlkVVJMKHVybCkpIHtcclxuLy8gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBVUkxcIilcclxuLy8gICAgICAgfVxyXG4vLyAgICAgICBsZXQgcCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcbi8vICAgICAgICAgIHJlc29sdmUoXHJcbi8vICAgICAgICAgICAgIG9ic2lkaWFuLnJlcXVlc3RVcmwodXJsLCB7XHJcbi8vICAgICAgICAgICAgICAgIC8vIHJlc29sdmUoZmV0Y2godXJsLCB7XHJcbi8vICAgICAgICAgICAgICAgIG1vZGU6IFwiY29yc1wiLFxyXG4vLyAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogXCJpbmNsdWRlXCIsXHJcbi8vICAgICAgICAgICAgICAgIG9yaWdpbjogXCJcIixcclxuLy8gICAgICAgICAgICAgICAgYm9keTogXCJ0ZXh0XCIsXHJcbi8vICAgICAgICAgICAgIH0pXHJcbi8vICAgICAgICAgIClcclxuLy8gICAgICAgfSlcclxuLy8gICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBwXHJcbi8vICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT0gMjAwKSB7XHJcbi8vICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVzcG9uc2Uuc3RhdHVzKVxyXG4vLyAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOZXR3b3JrIHJlc3BvbnNlIHdhcyBub3Qgb2tcIilcclxuLy8gICAgICAgfVxyXG4vLyAgICAgICBjb25zdCBodG1sID0gcmVzcG9uc2UudGV4dFxyXG4vLyAgICAgICBjb25zdCBkb2MgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKGh0bWwsIFwidGV4dC9odG1sXCIpXHJcbi8vICAgICAgIGNvbnN0IHRpdGxlID0gZG9jLnF1ZXJ5U2VsZWN0b3IoXCJ0aXRsZVwiKS5pbm5lclRleHRcclxuLy8gICAgICAgLy8gY29uc29sZS5sb2coJ1RpdGxlOicsIHRpdGxlLCByZXNwb25zZSk7XHJcbi8vICAgICAgIHJldHVybiBgWyR7dGl0bGV9XSgke3VybH0pYFxyXG4vLyAgICB9LFxyXG4vLyB9XHJcblxyXG4vLyAtLS0tLS0tLS1cclxuLy8gRGFzaGJvYXJkXHJcbi8vIC0tLS0tLS0tLVxyXG4vLyBmdW5jdGlvbiBpbnNlcnRHcmVla2VkVGFibGUoKSB7XHJcbi8vICAgIGNvbnN0IGVkaXRvciA9IHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVMZWFmLnZpZXcuc291cmNlTW9kZS5jbUVkaXRvcjtcclxuXHJcbi8vICAgIC8vIENyZWF0ZSB0aGUgdGFibGUgZWxlbWVudFxyXG4vLyAgICBjb25zdCB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtcclxuXHJcbi8vICAgIC8vIEFwcGx5IENTUyBzdHlsaW5nXHJcbi8vICAgIHRhYmxlLnN0eWxlLmJvcmRlckNvbGxhcHNlID0gXCJjb2xsYXBzZVwiO1xyXG4vLyAgICB0YWJsZS5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xyXG4vLyAgICB0YWJsZS5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCBibGFja1wiO1xyXG5cclxuLy8gICAgLy8gQ3JlYXRlIHRhYmxlIHJvd3MgYW5kIGNlbGxzIHdpdGggZ3JlZWtlZCB0ZXh0XHJcbi8vICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XHJcbi8vICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuLy8gICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAyOyBqKyspIHtcclxuLy8gICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuLy8gICAgICAgICAgY2VsbC50ZXh0Q29udGVudCA9IFwiTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdC5cIjtcclxuLy8gICAgICAgICAgY2VsbC5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCBibGFja1wiO1xyXG4vLyAgICAgICAgICBjZWxsLnN0eWxlLnBhZGRpbmcgPSBcIjhweFwiO1xyXG4vLyAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XHJcbi8vICAgICAgIH1cclxuLy8gICAgICAgdGFibGUuYXBwZW5kQ2hpbGQocm93KTtcclxuLy8gICAgfVxyXG5cclxuLy8gICAgLy8gQ29udmVydCB0aGUgdGFibGUgZWxlbWVudCB0byBtYXJrZG93blxyXG4vLyAgICBjb25zdCB0YWJsZU1hcmtkb3duID0gXCJgYGBodG1sXFxuXCIgKyB0YWJsZS5vdXRlckhUTUwgKyBcIlxcbmBgYFwiO1xyXG4vLyAgICBjb25zb2xlLmxvZyh0YWJsZU1hcmtkb3duKTtcclxuLy8gICAgLy8gSW5zZXJ0IHRoZSBtYXJrZG93biBpbnRvIHRoZSBlZGl0b3JcclxuLy8gICAgZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24odGFibGVNYXJrZG93bik7XHJcbi8vIH1cclxuXHJcbi8vIGxldCBkYXNoID0ge1xyXG4vLyAgICBhZGRDYXJkKHRpdGxlLCBjb250ZW50KSB7XHJcbi8vICAgICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVFbChcImRpdlwiLCB7IGNsczogXCJvYnJvLWNhcmRcIiB9KVxyXG4vLyAgICAgICBjYXJkLmFwcGVuZENoaWxkKGNyZWF0ZUVsKFwiZGl2XCIsIHsgdGV4dDogdGl0bGUsIGNsczogXCJvYnJvLWNhcmQtdGl0bGVcIiB9KSlcclxuLy8gICAgICAgY2FyZC5hcHBlbmRDaGlsZChjcmVhdGVFbChcImRpdlwiLCB7IHRleHQ6IFwiXCIgfSkpXHJcbi8vICAgICAgIC8vIGNhcmQuaW5uZXJIVE1MICs9IGNvbnRlbnQ7XHJcbi8vICAgICAgIHJldHVybiBjYXJkXHJcbi8vICAgIH0sXHJcbi8vIH1cclxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBLHNCQVNPO0FBWlA7QUF1QkEsSUFBTSxtQkFBaUM7QUFBQSxFQUNwQyxZQUFZO0FBQUEsRUFDWixlQUFlO0FBQUEsRUFDZixZQUFZO0FBQUEsRUFDWixpQkFBaUI7QUFBQSxFQUNqQixnQkFBZ0I7QUFDbkI7QUFFQSxJQUFJO0FBRUosSUFBcUIsT0FBckIsY0FBa0MsdUJBQU87QUFBQSxFQUd0QyxNQUFNLFNBQVM7QUFDWixVQUFNLEtBQUssYUFBYTtBQUV4QixTQUFLLElBQUksVUFBVSxjQUFjLE1BQU07QUFDcEMsVUFBSSxDQUFDLEtBQUssSUFBSSxRQUFRLFFBQVEsVUFBVSxHQUFHO0FBQ3hDLFlBQUk7QUFBQSxVQUNEO0FBQUEsUUFDSDtBQUNBO0FBQUEsTUFDSDtBQUlBLFdBQUssY0FBYyxhQUFhLFFBQVEsTUFBTTtBQUMzQyxZQUFJLHVCQUFPLGVBQWU7QUFBQSxNQUM3QixDQUFDO0FBRUQsa0JBQVksS0FBSyxpQkFBaUI7QUFBQSxJQVVyQyxDQUFDO0FBRUQsU0FBSyxjQUFjLElBQUksZ0JBQWdCLEtBQUssS0FBSyxJQUFJLENBQUM7QUFFdEQsV0FBTyxrQkFBa0IsT0FBTyxJQUFJLFNBQVM7QUFPMUMsVUFBSSxXQUFXLEtBQUssVUFBVSxJQUFJLElBQUk7QUFFdEMs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
